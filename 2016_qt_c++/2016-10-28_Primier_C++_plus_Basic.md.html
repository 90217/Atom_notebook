<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <title>2016-10-28_Primier_C++_plus_Basic</title>
      <style>.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(171, 178, 191); overflow: auto; background-color: rgb(40, 44, 52); }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(124, 135, 156); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(82, 139, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(124, 135, 156); border-color: rgb(75, 83, 98); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top: 2px dashed rgb(75, 83, 98); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(75, 83, 98); }
.markdown-preview:not([data-use-github-style]) code { color: rgb(255, 255, 255); background-color: rgb(58, 63, 75); }
.markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(49, 54, 63); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(255, 255, 255); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(75, 83, 98) rgb(75, 83, 98) rgb(62, 68, 81); background-color: rgb(58, 63, 75); }
.markdown-preview[data-use-github-style] { font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); overflow: scroll; background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; border: 0px none; background-color: rgb(231, 231, 231); }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { border-top: 1px solid rgb(204, 204, 204); background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; border-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157); }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; border: 0px; background: transparent; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; border-radius: 3px; background-color: rgb(247, 247, 247); }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; border: 0px; background-color: transparent; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; background-color: rgb(252, 252, 252); }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover .horizontal-scrollbar { visibility: visible; }
.markdown-preview .task-list-item-checkbox { position: absolute; margin: 0.25em 0px 0px -1.4em; }
.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(171, 178, 191); overflow: auto; background-color: rgb(40, 44, 52); }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(124, 135, 156); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(82, 139, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(124, 135, 156); border-color: rgb(75, 83, 98); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top: 2px dashed rgb(75, 83, 98); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(75, 83, 98); }
.markdown-preview:not([data-use-github-style]) pre, .markdown-preview:not([data-use-github-style]) code { color: rgb(255, 255, 255); background-color: rgb(58, 63, 75); }
.markdown-preview:not([data-use-github-style]) pre, .markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(49, 54, 63); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(255, 255, 255); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(75, 83, 98) rgb(75, 83, 98) rgb(62, 68, 81); background-color: rgb(58, 63, 75); }
.markdown-preview[data-use-github-style] { font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); overflow: scroll; background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; border: 0px none; background-color: rgb(231, 231, 231); }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { border-top: 1px solid rgb(204, 204, 204); background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; border-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157); }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; border: 0px; background: transparent; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; border-radius: 3px; background-color: rgb(247, 247, 247); }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; border: 0px; background-color: transparent; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; background-color: rgb(252, 252, 252); }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] pre, .markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre, .markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover .horizontal-scrollbar { visibility: visible; }
.markdown-preview del { text-decoration: none; position: relative; }
.markdown-preview del::after { border-bottom: 1px solid black; content: ""; left: 0px; position: absolute; right: 0px; top: 50%; }
.markdown-preview .flash { animation: flash 1s ease-out 1; outline: rgba(255, 0, 0, 0) solid 1px; }
.markdown-preview .flash:not(li) { display: block; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}

.spell-check-misspelling .region {
  border-bottom: 2px dotted rgba(255, 51, 51, 0.75);
}
.spell-check-corrections {
  width: 25em !important;
}

pre.editor-colors {
  background-color: #282c34;
  color: #abb2bf;
}
pre.editor-colors .line.cursor-line {
  background-color: rgba(153, 187, 255, 0.04);
}
pre.editor-colors .invisible {
  color: #abb2bf;
}
pre.editor-colors .cursor {
  border-left: 2px solid #528bff;
}
pre.editor-colors .selection .region {
  background-color: #3e4451;
}
pre.editor-colors .bracket-matcher .region {
  border-bottom: 1px solid #528bff;
  box-sizing: border-box;
}
pre.editor-colors .invisible-character {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .indent-guide {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .wrap-guide {
  background-color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .find-result .region.region.region,
pre.editor-colors .current-result .region.region.region {
  border-radius: 2px;
  background-color: rgba(82, 139, 255, 0.24);
  transition: border-color 0.4s;
}
pre.editor-colors .find-result .region.region.region {
  border: 2px solid transparent;
}
pre.editor-colors .current-result .region.region.region {
  border: 2px solid #528bff;
  transition-duration: .1s;
}
pre.editor-colors .gutter .line-number {
  color: #636d83;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.cursor-line {
  color: #abb2bf;
  background-color: #2c313a;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection {
  background-color: transparent;
}
pre.editor-colors .gutter .line-number .icon-right {
  color: #abb2bf;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before {
  bottom: -3px;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed::after {
  content: "";
  position: absolute;
  left: 0px;
  bottom: 0px;
  width: 25px;
  border-bottom: 1px dotted rgba(224, 82, 82, 0.5);
  pointer-events: none;
}
pre.editor-colors .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
pre.editor-colors .fold-marker:after {
  color: #abb2bf;
}
.syntax--comment {
  color: #5c6370;
  font-style: italic;
}
.syntax--comment .syntax--markup.syntax--link {
  color: #5c6370;
}
.syntax--entity.syntax--name.syntax--type {
  color: #e5c07b;
}
.syntax--entity.syntax--other.syntax--inherited-class {
  color: #98c379;
}
.syntax--keyword {
  color: #c678dd;
}
.syntax--keyword.syntax--control {
  color: #c678dd;
}
.syntax--keyword.syntax--operator {
  color: #abb2bf;
}
.syntax--keyword.syntax--other.syntax--special-method {
  color: #61afef;
}
.syntax--keyword.syntax--other.syntax--unit {
  color: #d19a66;
}
.syntax--storage {
  color: #c678dd;
}
.syntax--storage.syntax--type.syntax--annotation,
.syntax--storage.syntax--type.syntax--primitive {
  color: #c678dd;
}
.syntax--storage.syntax--modifier.syntax--package,
.syntax--storage.syntax--modifier.syntax--import {
  color: #abb2bf;
}
.syntax--constant {
  color: #d19a66;
}
.syntax--constant.syntax--variable {
  color: #d19a66;
}
.syntax--constant.syntax--character.syntax--escape {
  color: #56b6c2;
}
.syntax--constant.syntax--numeric {
  color: #d19a66;
}
.syntax--constant.syntax--other.syntax--color {
  color: #56b6c2;
}
.syntax--constant.syntax--other.syntax--symbol {
  color: #56b6c2;
}
.syntax--variable {
  color: #e06c75;
}
.syntax--variable.syntax--interpolation {
  color: #be5046;
}
.syntax--variable.syntax--parameter {
  color: #abb2bf;
}
.syntax--string {
  color: #98c379;
}
.syntax--string.syntax--regexp {
  color: #56b6c2;
}
.syntax--string.syntax--regexp .syntax--source.syntax--ruby.syntax--embedded {
  color: #e5c07b;
}
.syntax--string.syntax--other.syntax--link {
  color: #e06c75;
}
.syntax--punctuation.syntax--definition.syntax--comment {
  color: #5c6370;
}
.syntax--punctuation.syntax--definition.syntax--method-parameters,
.syntax--punctuation.syntax--definition.syntax--function-parameters,
.syntax--punctuation.syntax--definition.syntax--parameters,
.syntax--punctuation.syntax--definition.syntax--separator,
.syntax--punctuation.syntax--definition.syntax--seperator,
.syntax--punctuation.syntax--definition.syntax--array {
  color: #abb2bf;
}
.syntax--punctuation.syntax--definition.syntax--heading,
.syntax--punctuation.syntax--definition.syntax--identity {
  color: #61afef;
}
.syntax--punctuation.syntax--definition.syntax--bold {
  color: #e5c07b;
  font-weight: bold;
}
.syntax--punctuation.syntax--definition.syntax--italic {
  color: #c678dd;
  font-style: italic;
}
.syntax--punctuation.syntax--section.syntax--embedded {
  color: #be5046;
}
.syntax--punctuation.syntax--section.syntax--method,
.syntax--punctuation.syntax--section.syntax--class,
.syntax--punctuation.syntax--section.syntax--inner-class {
  color: #abb2bf;
}
.syntax--support.syntax--class {
  color: #e5c07b;
}
.syntax--support.syntax--type {
  color: #56b6c2;
}
.syntax--support.syntax--function {
  color: #56b6c2;
}
.syntax--support.syntax--function.syntax--any-method {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--function {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--class,
.syntax--entity.syntax--name.syntax--type.syntax--class {
  color: #e5c07b;
}
.syntax--entity.syntax--name.syntax--section {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--tag {
  color: #e06c75;
}
.syntax--entity.syntax--other.syntax--attribute-name {
  color: #d19a66;
}
.syntax--entity.syntax--other.syntax--attribute-name.syntax--id {
  color: #61afef;
}
.syntax--meta.syntax--class {
  color: #e5c07b;
}
.syntax--meta.syntax--class.syntax--body {
  color: #abb2bf;
}
.syntax--meta.syntax--method-call,
.syntax--meta.syntax--method {
  color: #abb2bf;
}
.syntax--meta.syntax--definition.syntax--variable {
  color: #e06c75;
}
.syntax--meta.syntax--link {
  color: #d19a66;
}
.syntax--meta.syntax--require {
  color: #61afef;
}
.syntax--meta.syntax--selector {
  color: #c678dd;
}
.syntax--meta.syntax--separator {
  background-color: #373b41;
  color: #abb2bf;
}
.syntax--meta.syntax--tag {
  color: #abb2bf;
}
.syntax--underline {
  text-decoration: underline;
}
.syntax--none {
  color: #abb2bf;
}
.syntax--invalid.syntax--deprecated {
  color: #523d14 !important;
  background-color: #e0c285 !important;
}
.syntax--invalid.syntax--illegal {
  color: white !important;
  background-color: #e05252 !important;
}
.syntax--markup.syntax--bold {
  color: #d19a66;
  font-weight: bold;
}
.syntax--markup.syntax--changed {
  color: #c678dd;
}
.syntax--markup.syntax--deleted {
  color: #e06c75;
}
.syntax--markup.syntax--italic {
  color: #c678dd;
  font-style: italic;
}
.syntax--markup.syntax--heading {
  color: #e06c75;
}
.syntax--markup.syntax--heading .syntax--punctuation.syntax--definition.syntax--heading {
  color: #61afef;
}
.syntax--markup.syntax--link {
  color: #56b6c2;
}
.syntax--markup.syntax--inserted {
  color: #98c379;
}
.syntax--markup.syntax--quote {
  color: #d19a66;
}
.syntax--markup.syntax--raw {
  color: #98c379;
}
.syntax--source.syntax--c .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--cpp .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--cs .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--css .syntax--property-name,
.syntax--source.syntax--css .syntax--property-value {
  color: #828997;
}
.syntax--source.syntax--css .syntax--property-name.syntax--support,
.syntax--source.syntax--css .syntax--property-value.syntax--support {
  color: #abb2bf;
}
.syntax--source.syntax--gfm .syntax--markup {
  -webkit-font-smoothing: auto;
}
.syntax--source.syntax--gfm .syntax--link .syntax--entity {
  color: #61afef;
}
.syntax--source.syntax--go .syntax--storage.syntax--type.syntax--string {
  color: #c678dd;
}
.syntax--source.syntax--ini .syntax--keyword.syntax--other.syntax--definition.syntax--ini {
  color: #e06c75;
}
.syntax--source.syntax--java .syntax--storage.syntax--modifier.syntax--import {
  color: #e5c07b;
}
.syntax--source.syntax--java .syntax--storage.syntax--type {
  color: #e5c07b;
}
.syntax--source.syntax--java .syntax--keyword.syntax--operator.syntax--instanceof {
  color: #c678dd;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair {
  color: #e06c75;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair > .syntax--punctuation {
  color: #abb2bf;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator {
  color: #56b6c2;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--delete,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--in,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--of,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--instanceof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--new,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--typeof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--void {
  color: #c678dd;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json {
  color: #e06c75;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation.syntax--string {
  color: #e06c75;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation {
  color: #98c379;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--constant.syntax--language.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--constant.syntax--language.syntax--json {
  color: #56b6c2;
}
.syntax--source.syntax--ruby .syntax--constant.syntax--other.syntax--symbol > .syntax--punctuation {
  color: inherit;
}
.syntax--source.syntax--python .syntax--keyword.syntax--operator.syntax--logical.syntax--python {
  color: #c678dd;
}
.syntax--source.syntax--python .syntax--variable.syntax--parameter {
  color: #d19a66;
}
</style>
  </head>
  <body class='markdown-preview'><h1><strong><em>2016 - 10 - 28 Primier C++ plus Basic</em></strong></h1>
<ul>
<li>C++头文件没有扩展名，对于C的头文件前面加c， math.h --&gt; cmath</li>
<li>循环中在栈中创建的对象其地址相同，为避免这种情况可使用堆</li>
<li>pthread_cond_wait</li>
<li>nullptr        C++空指针</li>
<li>static_assert 用于在编译阶段对断言进行测试</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">输入输出 cin / cout</span></h1>
<ul>
<li>包含头文件iostream：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--preprocessor syntax--include syntax--c"><span class="syntax--keyword syntax--control syntax--directive syntax--include syntax--c"><span class="syntax--punctuation syntax--definition syntax--directive syntax--c"><span>#</span></span><span>include</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--other syntax--lt-gt syntax--include syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&lt;</span></span><span>iostream</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&gt;</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>使用iostream而不是iostream.h，相对的，c标准库的头文件名加前缀c，如&lt;cmath&gt;</span></span></span>
</div></pre>
并在使用前提供名称空间：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--using-namespace-declaration syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--cpp"><span>namespace</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>std</span></span><span>;</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;指定名称空间，此时可以使用cout表示std::cout</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>或只指定cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;cout</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;std::cout;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;std::cin;</span></span>
</div></pre>
cin是istream类，cout是ostream类</li>
<li>在程序中包含iostream将自动创建8个流对象(4个用于窄字符流，4个用于宽字符流)<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>w</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>cerr</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>无缓冲</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>clog</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>缓冲</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">输出 cout</span></h2>
<ul>
<li>std::cout &lt;&lt; “Hi” &lt;&lt; std::endl;        // 输出并换行</li>
<li>std::cout &lt;&lt; “Hi” &lt;&lt; std::flush;        // 刷新缓冲区，不换行，也可以使用flush(cout);</li>
<li>std::cout &lt;&lt; value<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>&nbsp;raised&nbsp;to&nbsp;the&nbsp;power&nbsp;of&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;pow&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>:&nbsp;</span><span class="syntax--constant syntax--character syntax--escape syntax--cpp"><span>\t</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;result&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;std::endl;</span></span>
</div></pre>
cout.put(); 输出单个字符<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>put</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>w</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>put</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>65</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;输出65对应的ASCII码字符</span></span></span>
</div></pre>
cout.write(); 显示整个字符串
write()方法不会遇到\0停止，可以越界显示指定长度的字符串<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>strc1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>greatwall</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>write</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>strc1,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;显示strc1的前5个字符</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">输入 cin</span></h2>
<ul>
<li>
<p>char ch;</p>
</li>
<li>
<p>cin &gt;&gt; ch;        // 读取char值时，cin将忽略空格和换行符</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>while</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ch&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span class="syntax--constant syntax--character syntax--escape syntax--c"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;cin;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;循环将不会退出，因为跳过了换行符</span></span></span>
</div></pre>
<p>cin.get(ch);        // 接受空格和换行符</p>
</li>
<li>
<p>int score[10];</p>
</li>
<li>
<p>cin &gt;&gt; score;        // 读取从第一个非空字符开始，到与目标类型不匹配的第一个字符</p>
</li>
<li>
<p>cin &gt;&gt; hex;        // 将整数输入解释为16进制</p>
</li>
<li>
<p>fload fee;</p>
</li>
<li>
<p>cin &gt; score &gt;&gt; fee;</p>
</li>
<li>
<p>cin.read(name, 10); 读取指定数目的字节并保存在目标位置</p>
<pre class="editor-colors lang-text"><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>不会在输入后加上&#39;\0&#39;</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>最常与write()结合使用，用于文件的输入输出</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">cout 格式控制</span></h2>
<ul>
<li>iostream中的dec / hex / oct(控制符，endl也是一个控制符)来控制输出的进制：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;hex;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>count&nbsp;=&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
<li>cout.width(3);        // 输出时显示的宽度，只在显示下一个数值时有效<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>#</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>width</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>12</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>12</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>#</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>24</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>#</span><span class="syntax--constant syntax--character syntax--escape syntax--cpp"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>输出：#</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>space&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>12</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>12</span></span><span>#</span><span class="syntax--constant syntax--numeric syntax--c"><span>24</span></span><span>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;width()只影响下一个输出，输出的12右对齐</span></span></span>
</div></pre>
</li>
<li>cout.fill(’<em>’);        // 改变默认填充字符为</em></li>
<li>cout.precision(3)        // 设置浮点数的显示精度，显示三位小数，默认为6，默认是指显示的总位数，默认不显示末尾的0<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>float</span></span><span>&nbsp;prc1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>20.04</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>precision</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>prc1&nbsp;=&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;prc1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>输出：prc1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span></span>
</div></pre>
</li>
<li>cout.setf(ios_base::showpoint);         // 显示小数点，使用默认的浮点格式时，显示末尾的0<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>float</span></span><span>&nbsp;prc1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>20.04</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setf</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ios_base::showpoint</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>prc1&nbsp;=&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;prc1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>precision</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>prc1&nbsp;=&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;prc1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>输出：prc1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>20.0400</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;默认6位精度</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prc1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span><span>.</span></span>
</div></pre>
</li>
<li>cout.setf(ios_base::fixed, ios_base::floatfield)；         // 限定输出使用定点表示</li>
<li>cout.setf(ios_base::boolalpha)        // 指定cout显示true / false 而不是 0 / 1：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setf</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ios_base::boolalpha</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">setf() / unset() 方法格式控制</span></h2>
<ul>
<li>unset()用于清除控制位</li>
<li>setf()函数第一个原型： fmtflags setf(fmtflags); 用来控制单个位控制的格式信息<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>其中fmtflags是bitmask类型，用于存储格式标记</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>参数用来指出用来设置哪一位</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>返回值指出所有标记以前的设置</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::boolalpha&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;输入和输出bool值，可以为true&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--c"><span>false</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::showbase&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;输出使用c</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span>基数前缀&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0x</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::showpoint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;显示末尾小数点</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::uppercase&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16进制输出，使用大写字母</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::showpos&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;正数前面显示</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span></span>
</div></pre>
</li>
<li>setf()函数第二个原型： fmtflags setf(fmtflags, fmtflags); 用来控制由多位控制的格式信息<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>第一个参数指出需要设定的位</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>第二个参数指出需要清除的位，通常为一组相关值</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如设置16进制输出时，需将16进制标志位置1，8进制&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;10进制标志位清0</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::basefield&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dec&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;oct&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;hex&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>8</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>16</span></span><span>&nbsp;进制</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::floadfield&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fixed&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;scientific&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;定点计数法&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;科学计数法</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::adjustfield&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;left&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;right&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;internal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;左对齐&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;右对齐&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;符号左对齐，值右对齐</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>设置左对齐：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setf</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ios_base::left,&nbsp;ios_base::adjustfield</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>设置16进制：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setf</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ios_base::hex,&nbsp;ios_base::basefield</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>设置浮点显示模式：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setf</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>,&nbsp;ios_base::floatfield</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>也可以使用</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>unset</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>unset</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ios_base::floatfield</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">标准控制符 （调用setf()）</span></h2>
<ul>
<li>类似于 dec / hex / oct 可以直接用在cout中，控制输出格式</li>
<li>打开左对齐和定点：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;left&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;fixed;</span></span>
</div></pre>
</li>
<li>控制符：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>boolalpha&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setf</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ios_base::boolalpha</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;输入和输出bool值，可以为true&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--c"><span>false</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>noboolalpha&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>unsetf</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ios_base::boolalpha</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>no</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;showbase&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;showpoint&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;showpos&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;uppercase</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>internal&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;left&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;right</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>dec&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;hex&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;oct</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fixed&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;scientific</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">setfill / setw</span></h2>
<ul>
<li>头文件iomapip</li>
<li>setprecision() 接受整型参数指定精度</li>
<li>setfill() 接受char参数指定填充符</li>
<li>setw() 接受整型参数指定字符宽度</li>
<li>示例：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>;&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>100</span></span><span>;&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--compound syntax--c"><span>+=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setw</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>6</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setfill</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setfill</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setw</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>12</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setprecision</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;n</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>n</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setw</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>14</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setprecision</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>34</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span class="syntax--punctuation syntax--whitespace syntax--support syntax--function syntax--leading syntax--c"><span>&nbsp;</span></span><span class="syntax--support syntax--function syntax--C99 syntax--c"><span>sqrt</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>n</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">保存 / 恢复格式状态</span></h2>
<ul>
<li>在函数中修改格式信息后应在函数结束时恢复修改前的状态：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>streamsize&nbsp;prec&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>precision</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>保存状态</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>precision</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>prec</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>恢复状态</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::fmtflags&nbsp;orig&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setf</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>std::ios_base::fixed</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>保存状态</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setf</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>orig,&nbsp;std::ios_base::floatfield</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>；&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>恢复状态</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">eof / fail / bad / good</span></h2>
<ul>
<li>cin / cout包含一个描述流状态的数据成员： eofbit / badbit / failbit<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>cin操作达到文件末尾时，设置eofbit</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin操作没有读取到指定字符时，设置failbit</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>在一些无法诊断的失败破坏流时，设置badbit</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>3个状态位全部为0时，说明状态正常</span></span>
</div></pre>
</li>
<li>位检测方法：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>good</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;所有位都为0时，返回true</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>eof</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eofbit被设置，返回true</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>bad</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;badbit被设置，返回true</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fail</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eofbit&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;failbit被设置，返回true&nbsp;[&nbsp;</span><span class="syntax--keyword syntax--operator syntax--ternary syntax--c"><span>?</span><span>?</span><span>?</span></span><span>&nbsp;]</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rdstate</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回流状态</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>exception</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回位掩码，指出哪些标记会导致异常</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>exception</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>iostate&nbsp;ex</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;设置哪些状态将导致</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>clear</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>引发异常</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>clear</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>iostate&nbsp;s</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;将流状态设置为s，s默认值为0，如果设置的位被设置为引发异常，将引发异常</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>setstate</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>iostate&nbsp;s</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;调用</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>clear</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rdstate</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>|</span></span><span>&nbsp;s</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>，设置s的对应状态位，其他位不变</span></span>
</div></pre>
</li>
<li>检测到EOF后cin / 文件将eofbit 和 failbit 都设置为1，可通过成员方法eof()和fail()测试</li>
<li>当cin出现在需要bool值的地方，将调用转换函数转换为bool值：<pre class="editor-colors lang-text"><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>while&nbsp;(&nbsp;cin)&nbsp;{&nbsp;...&nbsp;}&nbsp;&lt;==&gt;&nbsp;while&nbsp;(!cin.fail())&nbsp;{&nbsp;...&nbsp;}&nbsp;[&nbsp;???&nbsp;]</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>while&nbsp;(cin&nbsp;&gt;&gt;&nbsp;input)</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>而由于cin.get(char)&nbsp;的返回值为cin，因此可使用：</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--paragraph syntax--text"><span>while&nbsp;(cin.get(ch))&nbsp;{&nbsp;...&nbsp;}</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>判断输入是否成功</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>使用&nbsp;while(cin)&nbsp;判断输入是否成功，这比&nbsp;!cin.eof()&nbsp;/&nbsp;!cin.fail()&nbsp;更通用，因为可以检测到如磁盘故障等失败原因</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">清除位状态</span></h2>
<ul>
<li>
<p>如果流状态位被设置，将对后面的输入或输出关闭，直到位被清除：</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;input</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;sum&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--compound syntax--c"><span>+=</span></span><span>&nbsp;input;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;input;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;won&#39;t&nbsp;work&nbsp;before&nbsp;clear&nbsp;fail&nbsp;bit</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>使用</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>clear</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>清除位:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>clear</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>清空输入缓冲中剩余字符：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>!</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>isspace</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cin.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;get&nbsp;rid&nbsp;of&nbsp;bad&nbsp;input&nbsp;until&nbsp;space</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>continue</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>或清空整行：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cin.get&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span class="syntax--constant syntax--character syntax--escape syntax--c"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>continue</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>继续接受输入：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;input;</span></span>
</div></pre>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;input</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fail</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>!</span></span><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>eof</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;failed&nbsp;because&nbsp;of&nbsp;mismatched&nbsp;input</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>clear</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>!</span></span><span class="syntax--support syntax--function syntax--C99 syntax--c"><span>isspace</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cin</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>continue</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>else</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;other&nbsp;fault</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>I/O&nbsp;error</span><span class="syntax--constant syntax--character syntax--escape syntax--cpp"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--whitespace syntax--support syntax--function syntax--leading syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--support syntax--function syntax--C99 syntax--c"><span>exit</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;input;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;"> 输入 get() / getline()</span></h2>
<ul>
<li>get()<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;有多种重载方法</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;返回类型是int，因此不能使用cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;，但可以用于：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;ch&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ch</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ch</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;用于单个字符输入</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>name,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;字符串输入，在读取9个字符或遇到换行符时停止，不读取换行符，将其留在输入队列中，接下来的输入操作将首先看到换行符</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使用cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>name,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>来跨过换行符，相较于</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>getline</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>，使得检查错误更简单</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>name,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>#</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;指定接受字符的结束标志</span></span>
</div></pre>
</li>
<li>getline()<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>getline</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>name,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;当遇到换行符或读取到指定数目</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>9个</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>的字符时停止接收，但不保存换行符，在存储时以空字符代替换行符</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>istream</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>getline</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>buffer,&nbsp;streamsize&nbsp;num,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;delim</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;指定接收字符串的结束符，但不接收该字符</span></span>
</div></pre>
</li>
<li>当get()读入空行后将设置失效位failbit，阻断接下来的输入，另一个问题是当输入字符串长度大于指定个数时，余下的字符将留在输入队列中，getline()还会设置失效位，使用命令恢复：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>!</span></span><span>cin</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>clear</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>只进行复位并不清理缓冲区</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>ignore</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>200</span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span class="syntax--constant syntax--character syntax--escape syntax--c"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>清理最多200个字符的缓冲区，至&#39;\n&#39;为止</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">peek / gcount / putback</span></h2>
<ul>
<li>peek()<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>返回输入总的下一个字符，但不抽取字符，用于查看下一个字符</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>name,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>25</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>peek</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span class="syntax--constant syntax--character syntax--escape syntax--c"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;查看是否是读取了整行，还是达到字符数限制</span></span></span>
</div></pre>
</li>
<li>gcount()<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>返回上一次非格式化抽取方法读取的字符数，即</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>getline</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>idmore</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>read</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;方法读取的字符数，而不是&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;运算符抽取的字符数</span></span>
</div></pre>
</li>
<li>putback() :=(<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>将一个字符插入到输入流中，接受一个char参数，返回类型为&nbsp;istream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">重定向</span></h2>
<ul>
<li>输入重定向 &lt; / 输出重定向 &gt;</li>
<li>对标准输出的重定向并不会影响 ceer / clog<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>$&nbsp;test&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;foo.in&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;foo.out</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>$&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;标准错误重定向到标准输出</span></span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">变量</span></h1>
<ul>
<li>short至少16位，int至少与short一样长</li>
<li>long至少32位，且至少与int一样长</li>
<li>long long至少64位，且至少与long一样</li>
<li>float至少32位，double至少48位，且不少于float；</li>
<li>wchar_t 宽字符类型，用于表示扩展字符集</li>
<li>在头文件climits (/usr/include/c++/4.7/，c头文件位于/uer/include/) 中包含了关于整型限制的信息，在头文件float.h中可以找到浮点型的系统限制</li>
<li>alignof() 获得类型或对象的对齐要求，alignas控制对齐方式 :=(</li>
</ul>
<h2><span style="color:#ff8000;">初始化</span></h2>
<ul>
<li>初始化不是赋值，初始化指创建变量并给它赋初始值，而赋值则是擦除对象的当前值并用新值代替。
初始化：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>ival</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1024</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;直接初始化，效率高</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;ival&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>1024</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;赋值初始化</span></span></span>
</div></pre>
</li>
<li>列表初始化：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;y</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2.75</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>short</span></span><span>&nbsp;quar[</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>]&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>6</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pa&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>[</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>]&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>6</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>7</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>列表初始化可以防止将值赋给无法保存它的类型：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;ch&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>3.45</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;double-to-char,&nbsp;compile-time&nbsp;error</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">auto</span></h2>
<ul>
<li>自动判断变量类型<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;a;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>auto</span></span><span>&nbsp;b&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;a;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
可用于简化模板声明</li>
</ul>
<h2><span style="color:#ff8000;">decltype</span></h2>
<ul>
<li>将变量的类型声明为表达式指定的类型<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>decltype</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>y</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;xpy&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;y;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
可用于声明模板参数</li>
</ul>
<h2><span style="color:#ff8000;">volatile</span></h2>
<ul>
<li>内存单元存储的值可能在程序代码以外发生改变</li>
<li>如果编译器发现程序在几条语句中两次使用了某个变量值，可能不是让程序查找这个值两次，而是将其缓存到寄存器中，这种优化假设变量在两次取值期间不会改变</li>
<li>声明为volatile则不会进行这种优化</li>
</ul>
<h2><span style="color:#ff8000;">mutable</span></h2>
<ul>
<li>
<p>即使结构或类被声明为const，某个成员也可以被修改</p>
</li>
<li>
<p>struct data {</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;name[</span><span class="syntax--constant syntax--numeric syntax--c"><span>30</span></span><span>];</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>mutable</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;accesses;</span></span>
</div></pre>
<p>};</p>
</li>
<li>
<p>const data = { … };</p>
</li>
</ul>
<h2><span style="color:#ff8000;">new</span></h2>
<ul>
<li>new关键字 typename * pn = new typename;        //在堆中分配空间，并使用delete释放该内存</li>
<li>在编译时给数组分配内存被称为静态联编，但使用new时是在运行时创建，被称为动态联编</li>
<li>内置标量类型<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>6</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div></pre>
</li>
<li>列表初始化常规结构 / 数组<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>struct</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>where</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;x;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;y;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;z;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>where&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;one&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;where&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2.1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2.2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2.3</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;arr&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>[</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>]&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>也可用于单值：</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>6</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div></pre>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>eg:&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;psome&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>[</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>];</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete&nbsp;[]</span></span><span>&nbsp;psome;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>如果new时使用了[]，则delete时也要有[]</span></span></span>
</div></pre>
<br>
</li>
<li>new失败时返回异常std::bad_alloc</li>
</ul>
<h2><span style="color:#ff8000;">定位new</span></h2>
<ul>
<li>需要包含头文件 new #include <new>，在指定的内存地址分配空间：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;buf&nbsp;[</span><span class="syntax--constant syntax--numeric syntax--c"><span>100</span></span><span>];</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pd1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>（buf）&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>[</span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span><span>];</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pd2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>buf&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--sizeof syntax--c"><span>sizeof</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>[</span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span><span>];</span></span>
</div></pre>
</new></li>
<li>不跟踪哪些内存单元已被使用</li>
<li>若是在栈中分配的空间，不能使用delete删除</li>
<li>对于使用定位new分配的类，需要显示调用这些类的析构函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>JustTesting&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pc1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>buf</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;JustTesting;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>JustTesting&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pc2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>buf&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--sizeof syntax--c"><span>sizeof</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>JustTesting</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span><span>&nbsp;JustTesting;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>...</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pc3</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function syntax--destructor syntax--cpp"><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>~JustTesting</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pc1</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function syntax--destructor syntax--cpp"><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>~JustTesting</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;调用析构函数顺序与创建相反</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">using 变量别名</span></h2>
<ul>
<li>typedef const char * pc1;</li>
<li>using pc2 = const char * ;</li>
<li>typedef condt int *(*pa1)[10];</li>
<li>using pa2 = const int <em>(</em>)[10]; :=(</li>
</ul>
<h2><span style="color:#ff8000;">类型转换运算符</span></h2>
<ul>
<li>更严格的控制类型转换，可以根据目的选择一个适合的运算符，而不是使用通用的类型转换</li>
</ul>
<h3><span style="color:#00ff00;">dynamic_cast</span></h3>
<ul>
<li>在类层次中进行向上转换(派生类转为基类)，而不允许其他转换<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>p1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--cast syntax--cpp"><span>dynamic_cast&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>p2</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div></pre>
仅当p2是Type类或Type类的派生类时，返回一个 Type * 的指针，否则返回空指针</li>
</ul>
<h3><span style="color:#00ff00;">const_cast</span></h3>
<ul>
<li>改变声明为const 或 volatile变量的值</li>
<li>转换时类型必须是相同的，只能有const 或volatile特征的不同<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>Type&nbsp;a;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Type&nbsp;b;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;pa&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>a;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;pb&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>b;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pc&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--cast syntax--cpp"><span>const_cast&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pa</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pd&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--cast syntax--cpp"><span>const_cast&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pb</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
此时pb可以用来修改a的值，但pd仍不能修改b的值</li>
<li>转换时pa必须是Type类型的</li>
</ul>
<h3><span style="color:#00ff00;">static_cast</span></h3>
<ul>
<li>用于所有可以隐式转换的类型，即可以指定派生类转换为基类，也可以基类转换为派生类<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--operator syntax--cast syntax--cpp"><span>static_cast</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>expression</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div></pre>
也可以用于枚举与整型，double与int等类型转换</li>
</ul>
<h3><span style="color:#00ff00;">reinterpret_cast</span></h3>
<ul>
<li>其他必须进行的类型转换<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>struct</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>data</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span class="syntax--storage syntax--type syntax--c"><span>short</span></span><span>&nbsp;a;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>short</span></span><span>&nbsp;b;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>long</span></span><span>&nbsp;value&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0xFFFF0008</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>data&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pb&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--cast syntax--cpp"><span>reinterpret_cast</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>data&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>value</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;pb</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>a;</span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">引用变量 (左值引用 / 右值引用)</span></h1>
<ul>
<li>值传递：数据量小，且函数不改变参数值</li>
<li>指针传递：数据对象是数组或结构</li>
<li>引用传递：数据对象是类或结构</li>
<li>int a;</li>
<li>int &amp; b = a;                // int &amp; works as int * , indicates b is an alias of a,</li>
<li>int * const c = &amp;a;        // This * c could be similar with b</li>
<li>const 引用与强制类型转换 【？】</li>
<li>如果函数的返回值是引用类型，则不能返回生存期只在函数内部的变量，对已释放内存的引用将引起错误，因此只能是通过参数传递给它的对象</li>
<li>函数使用引用参数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f_return_ref</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>d</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>return</span></span><span>&nbsp;d;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>...</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;a;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;b;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;c;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f_return_ref</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>a</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;This&nbsp;indicating&nbsp;b&nbsp;=&nbsp;a;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f_return_ref</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>a</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;c;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;This&nbsp;indicating&nbsp;a&nbsp;=&nbsp;c;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">右值引用</span></h2>
<ul>
<li>左值：一个变量名或解除引用的指针等，即一个可以出现在等号左边的表达式，程序可获取其地址</li>
<li>传统的引用(左值引用)可以将引用关联到一个左值：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;b&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;a;</span></span>
</div></pre>
</li>
<li>右值：一个字面常量，计算表达式x+y，以及函数(不能是返回引用值的函数)等，即一个只能出现在等号右边的表达式，程序不能获取其地址</li>
<li>右值引用可以将引用关联到一个右值，使用&amp;&amp;：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;y&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span>&nbsp;r1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>13</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span>&nbsp;r2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;y;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;关联到的是当前x+y的值，以后改变x&nbsp;/&nbsp;y不会影响r2</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span>&nbsp;r3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::sqrt</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2.0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
主要目的是实现移动语义</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">结构 / 共用体</span></h1>
<ul>
<li>C++允许在声明结构变量时省略关键字struct</li>
<li>C++的结构体成员可以有成员函数</li>
<li>如果初始化时大括号内未包含任何东西，则各个成员都被设置为0</li>
<li>结构体可以使用 = 来为同类型的结构体赋值，即使结构体中有数组也是可以的，这同样适用于C语言</li>
<li>C++结构与类具有相同的特性，区别在于结构的默认访问权限是public，类是private</li>
<li>共用体允许有构造函数 / 析构函数</li>
<li>匿名共用体：其成员将成为位于相同地址处的变量<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>eg:&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>struct</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>widget</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;type;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>union</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>long</span></span><span>&nbsp;id_num;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;id_char[</span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span><span>];</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>...</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>widget&nbsp;prize;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>...</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>prize.type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;prize.id_num;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>else</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;prize.char_num;</span></span>
</div></pre>
<br>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">数组的替代品 (模板类 vector / array / valarray)</span></h1>
<ul>
<li>可将列表初始化用于vector / array</li>
<li>不同于数组，相同大小的array类之间可以相互赋值</li>
<li>都可以使用[]来访问元素</li>
</ul>
<h2><span style="color:#ff8000;">vector</span></h2>
<ul>
<li>STL类，类似于string，也是一种动态数组，在运行阶段设置长度，也可以附加新数据或插入新数据，存储于堆中需包含头文件vector<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;vi;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>vd</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;动态内存分配，n可以是变量</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>typeName</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>vt</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>n_elem</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>重载的[]运算符：vd[</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>9</span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">array</span></h2>
<ul>
<li>设计用于替代数组，与数组一样使用固定长度，效率高，方便安全，存储于栈中，需包含头文件array<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>array</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;ai&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>长度不能是变量</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>array</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>typeName,&nbsp;n_elem</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;arr;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>成员方法</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>确定边界，</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>at</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>方法可防止越界访问：</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>ai.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>at</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>13</span></span><span>;</span></span>
</div></pre>
</li>
<li>提供了多个STL方法，如begin() / end() / rbegin() / rend()，因此可以将STL方法用于array对象</li>
</ul>
<h2><span style="color:#ff8000;">valarray</span></h2>
<ul>
<li>用于处理数值，提供更多的算数支持</li>
<li>不能自动调整大小，但有一个resize()方法</li>
<li>没有定义STL方法适用的begin() / end() 方法<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>valarray</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;v1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;An&nbsp;array&nbsp;of&nbsp;int,&nbsp;size&nbsp;==&nbsp;0;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>valarray</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>v2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>8</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;An&nbsp;array&nbsp;of&nbsp;double,&nbsp;size&nbsp;==&nbsp;8;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>valarray</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>v3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>8</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;An&nbsp;array&nbsp;of&nbsp;int,&nbsp;size&nbsp;==&nbsp;8,&nbsp;init&nbsp;value&nbsp;==&nbsp;10;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;gpa[</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1.1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2.1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3.1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4.1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>5.1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>6.1</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>valarray</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>v4</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>gpa,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;An&nbsp;array&nbsp;of&nbsp;double,&nbsp;size&nbsp;==&nbsp;4,&nbsp;init&nbsp;value&nbsp;using&nbsp;first&nbsp;4&nbsp;elements&nbsp;of&nbsp;gpa;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>[]</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;访问各个元素</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>size</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;返回元素数</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sum</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;返回元素总和</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>max</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;返回最大元素</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>min</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;返回最小元素</span></span></span>
</div></pre>
</li>
<li>valarray类重载了所有算术运算符：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>valarray</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>vad1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>vad2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>vad3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vad3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;vad1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;vad2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;vad3中每个元素等于vad1与vad2中每个元素之和</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vad3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--compound syntax--c"><span>*=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2.5</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;vad3中每个元素扩大2.5倍</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vad3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>log</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>vad1</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;varray重载了log()运算符，可以直接用于对象</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vad3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;vad1.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>apply</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>log</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;apply()方法用于非重载方法，不能修改调用对象，返回一个包含结果的新对象</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
</li>
<li>slice类<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>slice类可以用作数组索引，这种下标指示功能可以用一位数组表示二维数组</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>slice[起始索引,&nbsp;索引数目,&nbsp;跨距];</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如：&nbsp;slice[</span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>]创建的对象表示选择1，&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>，&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>7</span></span><span>，&nbsp;10四个元素</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vad2[</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>slice</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;set&nbsp;selected&nbsp;elements&nbsp;to&nbsp;10</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>valarray</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>vad4</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>vad3[</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>slice</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>]</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;initialize&nbsp;vad4&nbsp;using&nbsp;vad3[3,&nbsp;4,&nbsp;5]</span></span></span>
</div></pre>
</li>
<li>其他特性：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>valarray</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;vbool&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;vad3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>9</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;vbool&nbsp;will&nbsp;be&nbsp;true&nbsp;/&nbsp;false&nbsp;result&nbsp;of&nbsp;if&nbsp;vad3&nbsp;elements&nbsp;greater&nbsp;than&nbsp;9</span></span></span>
</div></pre>
</li>
<li>用于STL方法：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sort</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>vad1.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;vad1.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;NOT&nbsp;valid,&nbsp;no&nbsp;begin()&nbsp;/&nbsp;end()&nbsp;method</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sort</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>vad1,&nbsp;vad1</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;NOT&nbsp;valid,&nbsp;vad1&nbsp;is&nbsp;not&nbsp;an&nbsp;address</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sort</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>vad1[</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>],&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>vad1[</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>]</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;valid&nbsp;in&nbsp;most&nbsp;situation,&nbsp;not&nbsp;recommend</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>c</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span>提供了接受valarray对象作为参数的模板函数&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sort</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>vad1</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>vad1</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">循环 / 分支语句</span></h1>
<ul>
<li>基于范围的for循环：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>为用于STL而设计，对&nbsp;数组&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;vector&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;array&nbsp;的每个元素进行相同操作时：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;prices[</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;x&nbsp;:&nbsp;prices</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>x&nbsp;:&nbsp;prices</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;使用引用实现对元素的修改</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;x&nbsp;:&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sv</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>auto</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>elem&nbsp;:&nbsp;sv</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>elem</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;auto自动判断变量类型为string</span></span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">string类</span></h1>
<ul>
<li>string类位于名称空间std中。</li>
<li>类设计让程序能够自动处理string的大小，即自动调整string对象的长度</li>
<li>string类的操作方法由头文件cstring提供，如 c语言中的strxxx() 方法、size()</li>
<li>string类的很多方法被重载，可以同时处理string类或c风格字符串</li>
<li>通常c++将分配一个比实际字符串大的内存块，以便提供增大空间，如果字符串不断增大，程序将重新分配原来两倍大小的空间</li>
<li>string类虽然不是STL的组成部分，但设计时考虑到了STL，因此可以使用STL接口</li>
</ul>
<h2><span style="color:#ff8000;">构造函数</span></h2>
<ul>
<li>
<p>size_type是一个依赖于实现的整型，头文件string中定义</p>
</li>
<li>
<p>string::npos定义为字符串的最大长度，通常为unsigned int最大值</p>
</li>
<li>
<p>string(const char * s)</p>
</li>
<li>
<p>string(size_type n, char c)</p>
</li>
<li>
<p>string(const string &amp; str)</p>
</li>
<li>
<p>string()</p>
</li>
<li>
<p>string(const char * s, size_type n)        // 初始化为s的前n个字符，可以超过s的长度，将复制s后面的内容到字符串结尾</p>
</li>
<li>
<p>template<class iter=""> string(Iter begin, Iter end)        // 初始化为begin到end区间的字符，begin / end作用相当于指针，范围包括begin，不包括end</class></p>
</li>
<li>
<p>string(const string &amp; str, size_type pos = 0, size_type n = npos) // 初始化为str从pos到结尾，或从pos开始的n个字符</p>
</li>
<li>
<p>string(string &amp;&amp; str) noexcept        // 初始化为str，并可能修改str的值（移动构造函数）</p>
</li>
<li>
<p>string(initializer_list<cahr> il)        // 初始化为初始化列表il中的值</cahr></p>
</li>
<li>
<p>用例：</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;ar[</span><span class="syntax--constant syntax--numeric syntax--c"><span>30</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>For&nbsp;the&nbsp;love&nbsp;of&nbsp;a&nbsp;princess!</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>stringstr1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ar,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>str2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ar&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>,&nbsp;ar&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>15</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>str3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>str2[</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>],&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>str2[</span><span class="syntax--constant syntax--numeric syntax--c"><span>8</span></span><span>]</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>str4</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>str1,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>16</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;str5&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>p</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>i</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>a</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>n</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>o</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;初始化列表</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">cctype中的字符函数</span></h2>
<ul>
<li>isalnum(); isalpha(); iscntl(); isdigit(); isgraph(); islower(); isprint(); ispunct(); isspace(); isupper(); isxdigit(); tolower(); toupper();</li>
</ul>
<h2><span style="color:#ff8000;">string类运算符</span></h2>
<ul>
<li>string类重载了多个版本的 + / += / =，可用于string类 / c风格字符串 / char字符<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;one,&nbsp;two;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>one&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--compound syntax--c"><span>+=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>a</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>two&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>?</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>one&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--compound syntax--c"><span>+=</span></span><span>&nbsp;two;</span></span>
</div></pre>
</li>
<li>重载[]运算符，可以访问string中各个字符：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;three&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>:D</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>three[</span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>P</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>重载 &lt; / &gt; / == / != 运算符，用于string类与sting / c风格字符串比较</li>
</ul>
<h2><span style="color:#ff8000;">string类输入</span></h2>
<ul>
<li>c风格字符串：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;info[</span><span class="syntax--constant syntax--numeric syntax--c"><span>100</span></span><span>];</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>getline</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>info,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>100</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>info,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>100</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
string类：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;str;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;str;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;string类重载的&nbsp;&gt;&gt;&nbsp;运算符</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>getline</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cin,&nbsp;str</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;string类的getline方法</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>两个版本的getline都有一个可选参数，可以指定字符界定输入边界（默认为\n），指定分界字符后，换行符将被视为普通字符：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>getline</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>str,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>:</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>getline</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>str,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>:</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string类的getline方法以及</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>运算符将自动调整目标str的大小，使之刚好存储下输入的字符</span></span>
</div></pre>
</li>
<li>文件输入：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>ifstream&nbsp;fin;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>open</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>foo</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>is_open</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--c"><span>false</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;item;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>getline</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>fin,&nbsp;item,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>:</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;using&nbsp;&#39;:&#39;&nbsp;as&nbsp;terminating&nbsp;character.</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>while</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>fin</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;item&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>getline</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>fin,&nbsp;item,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>:</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>close</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">其他方法 size / length / find / capacity / reserve / c_str</span></h2>
<ul>
<li>size() / length()方法都可以返回字符串中的字符数</li>
<li>find()：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>size_type&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>str,&nbsp;size_type&nbsp;pos&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;从pos处查找str，成功返回首次出现的位置索引，失败返回string::npos</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>size_type&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;s,&nbsp;size_type&nbsp;pos&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;pos处查找s</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>size_type&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;s,&nbsp;size_type&nbsp;pos&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>,&nbsp;size_type&nbsp;n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;pos处查找s的前n个字符</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>size_type&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;ch,&nbsp;size_type&nbsp;pos&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;查找ch</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>类似函数还有：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rfind</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;查找最后一次出现位置</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find_first_of</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;查找参数中任何一个字符首次出现的位置</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find_last_of</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;查找参数中任何一个字符最后出现的位置</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find_first_not_of</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;查找参数中不包含字符首次出现的位置</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find_last_not_of</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;查找参数中不包含字符最后出现的位置</span></span></span>
</div></pre>
<br>
</li>
<li>capacity() 返回当前分配给字符串的实际内存大小，通常是比size()大，空字符串也有默认最小容量</li>
<li>reserve(new_size) 可以重新申请new_size长度的字符串，实际的内存大小也要大于new_size</li>
<li>c_str() 返回一个指向c风格字符串的指针，可以用于如open()等要求c风格字符串参数的方法中：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;filename;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ostream&nbsp;fout;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>open</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>filename.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>c_str</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">字符串的其他种类</span></h2>
<ul>
<li>string库实际是基于一个模板类的：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>charT</span></span><span>,&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>traits</span></span><span>&nbsp;</span></span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;char_traits</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>charT</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>,&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Allocate</span></span><span>&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;allocate</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>charT</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>basic_string&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
模板basic_string有四个具体化，并分别对应一个typedef名称：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>typedef</span></span><span>&nbsp;basic_string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;string;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>typedef</span></span><span>&nbsp;basic_string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--cpp"><span>wchar_t</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;wstring;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>typedef</span></span><span>&nbsp;basic_string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--cpp"><span>char16_t</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;u16string;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>typedef</span></span><span>&nbsp;basic_string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--cpp"><span>char32_t</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;u32string;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>可以创建以上类型的字符串，或开发某种类似字符串的类</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>traits类描述选定字符类型的特定情况，如比较算法等</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Allocate是一个管理内存分配的类，以上字符串类型的预定义模板具体化，都使用new&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">内核格式化 (incore formating) sstream</span></h2>
<ul>
<li>ostringstream<pre class="editor-colors lang-text"><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>将信息写入对象，用于存储信息</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>可以使用cout的方法</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>ostringstream&nbsp;outstr;</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>double&nbsp;price&nbsp;=&nbsp;93.2;</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>outstr.precision(2);</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>outstr&nbsp;&lt;&lt;&nbsp;&quot;price&nbsp;is&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;price&nbsp;&lt;&lt;&nbsp;endl;</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>str()&nbsp;方法返回一个被初始化为缓冲区内容的字符串对象</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>string&nbsp;mesg&nbsp;=&nbsp;outstr.str();</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>使用str()方法将冻结该对象，不能再将信息写入该对象中</span></span></span>
</div></pre>
</li>
<li>istringstream<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>可以使用cin的方法读取istringstream对象中的数据</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>可以使用string对象初始化</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;strw&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>a&nbsp;serial&nbsp;of&nbsp;words</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>istringstream&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>instr</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>strw</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;word;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>instr&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;word</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>;&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;word&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">函数 (多态 / 模板 / 后置返回类型)</span></h1>
<h2><span style="color:#ff8000;">默认参数</span></h2>
<ul>
<li>在函数声明处使用 char * left(const char * str, int n = 1); 来告知程序可能的默认值</li>
<li>必须从右向左添加默认值，要为某个参数添加默认值，则必须为它右边所有的参数提供默认值</li>
<li>实参按从左到右赋给形参，而不能跳过 :=(</li>
</ul>
<h2><span style="color:#ff8000;">函数多态 / 函数重载</span></h2>
<ul>
<li>同名，不同参数列表（函数特征标）</li>
<li>如果参数书目 / 类型 / 顺序相同则特征标相同</li>
<li>不区分类型引用和类型本身</li>
<li>不区分返回值</li>
<li>const [?]</li>
<li>名称修饰： 编译器根据参数列表的不同对函数名称作转换</li>
</ul>
<h2><span style="color:#ff8000;">函数模板</span></h2>
<ul>
<li>将同一种算法用于不同类型的函数</li>
<li>template <typename t="">        // 建立模板，可使用class代替typename，类型名随意</typename></li>
<li>void Swap(T &amp;a, T &amp;b) { … }         // 使用时与常规函数相同，编译器将自动生成相应的函数，最终代码不包含任何模板</li>
<li>void Swap(T &amp;a, T &amp;b, int a) { … }        :=(// 重载的模板，并不需要所有形参类型都是泛型</li>
</ul>
<h3><span style="color:#00ff00;">具体化</span></h3>
<ul>
<li>显式具体化： 指定使用特定的函数原型来处理代码，而不使用函数模板生成，代码中必须有该函数的定义，使其行为与模板代码不同<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>具体化优先于常规模板，而非模板函数优先于具体化和常规模板</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;Swap</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>job</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>job&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>,&nbsp;job</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>其中&lt;job&gt;可省</span></span></span>
</div></pre>
</li>
<li>显示实例化：指定使用模板生成特定参数类型的函数来处理代码，生成模板的一个指定类型的实例<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;a;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;b;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;Add</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;指定使用double参数列表的实例来处理参数</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>还可通过在程序中使用函数来创建：cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;Add</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x,&nbsp;m</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
<li>在同一个文件中使用同种类型的显式实例化和显式具体化将出错</li>
</ul>
<h2><span style="color:#ff8000;">后置返回类型</span></h2>
<ul>
<li>在函数名和参数列表后面指定返回类型，用于无法预先知道返回类型的情况</li>
<li>auto h(int x, float y) -&gt; double        // auto是一个占位符，表示后置返回类型提供的类型</li>
<li>结合decltype：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T1,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T2</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>auto</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>gt</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>T1&nbsp;x,&nbsp;T2&nbsp;y</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--cpp"><span>decltype</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;y</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;y;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">可变参数模板</span></h2>
<ul>
<li>创建接受可变数量参数的模板函数或模板类</li>
<li>声明使用…</li>
</ul>
<h3><span style="color:#00ff00;">模板和函数参数包</span></h3>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;...&nbsp;Args</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;Args&nbsp;is&nbsp;a&nbsp;template&nbsp;parameter&nbsp;pack</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show_list</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Args&nbsp;</span><span class="syntax--punctuation syntax--vararg-ellipses syntax--c"><span>...</span></span><span>&nbsp;args</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;args&nbsp;is&nbsp;a&nbsp;function&nbsp;parameter&nbsp;pack</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如对于：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show_list</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>s</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>80</span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>sweet</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4.5</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>模板参数包Args为char,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>函数参数包args类型为Args，且与模板参数包包含的类型列表匹配</span></span>
</div></pre>
<h3><span style="color:#00ff00;">展开参数包</span></h3>
<ul>
<li>递归：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>为模板函数的第一个参数指定名称</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show_list</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;definition&nbsp;for&nbsp;0&nbsp;parameter</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;...&nbsp;Args</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show_list</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>T&nbsp;value,&nbsp;Args&nbsp;</span><span class="syntax--punctuation syntax--vararg-ellipses syntax--c"><span>...</span></span><span>&nbsp;args</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;value&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>,&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show_list</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>args</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;每次递减一个参数，直到列表为空，结束递归</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>改进：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>使用引用，并定义显示单个元素的函数</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show_list</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;definition&nbsp;for&nbsp;0&nbsp;parameter</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;print&nbsp;&#39;\n&#39;&nbsp;for&nbsp;the&nbsp;last&nbsp;elament,&nbsp;instead&nbsp;of&nbsp;&quot;,&nbsp;&quot;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show_list</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;value</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;value&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span class="syntax--constant syntax--character syntax--escape syntax--c"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;...&nbsp;Args</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show_list</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;value,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Args</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--vararg-ellipses syntax--c"><span>...</span></span><span>&nbsp;args</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;value&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>,&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show_list</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>args</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;每次递减一个参数，直到列表为空，结束递归</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">名称空间</span></h1>
<ul>
<li>using编译指令：using namespace std; 表明可以使用std名称空间的名称，而不用使用std::前缀</li>
<li>using声明：使用特定的几个名称：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;std:cout;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;std:endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;std:cin;</span></span>
</div></pre>
一般来说using声明比using编译指令更安全，因为它只导入指定的名称，而using编译指令导入所有名称</li>
<li>示例：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>namespace</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Jack</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--scope syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;pail;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fetch</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--scope syntax--cpp"><span>}</span></span></span></span>
</div></pre>
访问名称空间 Jack::pail = 12.34; (限定的名称)</li>
<li>名称空间是开放的，即可以把名称或方法加入到已有的名称列表中<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>namespace</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Jack</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--scope syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;score;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--scope syntax--cpp"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
或提供名称列表中已有原型的函数代码<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>namespace</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Jack</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--scope syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fetch</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--scope syntax--cpp"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">名称空间嵌套</span></h2>
<ul>
<li>
<p>namespace Jill {</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;namesapce&nbsp;std::cout;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--using-namespace-declaration syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--cpp"><span>namespace</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>std::cin</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>namespace</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>myth</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--scope syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>spire</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--scope syntax--cpp"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;water;</span></span>
</div></pre>
<p>}</p>
</li>
<li>
<p>使用using namespace Jill::myth;使内部名称可用</p>
</li>
<li>
<p>如果名称空间A包含名称空间B，导入A将同时导入B</p>
</li>
</ul>
<h2><span style="color:#ff8000;">别名</span></h2>
<ul>
<li>namespace Mymyth = Jill::myth;</li>
</ul>
<h2><span style="color:#ff8000;">未命名名称空间</span></h2>
<ul>
<li>namespace { …; }</li>
<li>无法在文件外使用该名称空间中的变量名称，相当于定义静态全局变量</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">对象和类</span></h1>
<ul>
<li>OOP最重要特性：抽象，封装和数据隐藏，多态，继承，代码的可重用性</li>
<li>类设计尽量将公有接口和实现细节分开，公有接口表示设计的抽象组件，将实现细节放在一起并将它们与抽象分开被称为封装</li>
<li>类声明中可以省略private关键字，这是类的默认访问控制</li>
<li>C++结构与类具有相同的特性，区别在于结构的默认访问权限是public，类是private</li>
<li>类成员函数可以访问类的private组件，定义时使用作用域解析运算符 ( :: ) 来标识函数所属的类</li>
<li>Stock::update()称为方法的限定名，update()为全名的缩写，非限定名，只能在类作用域中使用</li>
<li>其定义位于类声明中的函数将自动成为内联函数</li>
<li>为避免参数与成员重名，通常可以在成员名前加m_，或加后缀_</li>
</ul>
<h2><span style="color:#ff8000;">构造函数</span></h2>
<ul>
<li>用于在类创建时初始化成员变量，没有返回值(不是void)，不能通过对象来调用<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock::Stock</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>co,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>long</span></span><span>&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;pr&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0.0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;food&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Cabbage</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>50</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>1.25</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>garment</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Furry&nbsp;Mason</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>50</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>1.34</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pstock&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Games</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>18</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>19.0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;初始化一个匿名对象，将地址赋值给pstock</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;hot_tip&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>plus</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>100</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>45.0</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>C++11&nbsp;列表初始化</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;jock&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Sport</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3.0</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;stocks[</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>hello</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3.3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>world</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4.4</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>为类定义了构造函数后，必须为它提供默认的构造函数，即给已有的构造函数的参数提供默认值，或定义一个不接收任何参数的构造函数<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;st;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;Calling&nbsp;the&nbsp;default&nbsp;constructed&nbsp;function.&nbsp;Not&nbsp;Stock&nbsp;st();&nbsp;this&nbsp;is&nbsp;declaring&nbsp;a&nbsp;function!</span></span></span>
</div></pre>
</li>
<li>explicit：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>接受一个参数的构造函数允许将对象初始化为一个值：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stock&nbsp;stock1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>hello</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>可以使用关键字explicit禁止单参数构造函数导致的自动转换：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>explicit</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock::Stock</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>co,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>long</span></span><span>&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;pr&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0.0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>但仍可以显示转换：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stock2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>hello</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">析构函数</span></h2>
<ul>
<li>对象过期时完成清理工作，如delete释放new分配的内存</li>
<li>Stock::~Stock() { … }        //使用 int main() { { … ;} return 0; } 形式的程序结构可在main函数结束前执行到析构函数</li>
</ul>
<h2><span style="color:#ff8000;">const成员函数</span></h2>
<ul>
<li>函数不修改类中的成员值</li>
<li>声明 void show() const;</li>
<li>定义 void stock::show() const { … }</li>
</ul>
<h2><span style="color:#ff8000;">this指针</span></h2>
<ul>
<li>示例：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Stock&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock::topval</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Stock&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>s</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;函数不修改参数值，不修改类中的成员值，且返回一个const引用</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>s</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>total_val</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span class="syntax--punctuation syntax--separator syntax--pointer-access syntax--c"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>total_val</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;s</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>total_val</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>else</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;this是一个指针，使用*this返回对象本身</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>类中的成员函数至少有一个参数this指针，当作为线程实现函数时，可修饰为static以去掉this指针，但这会丢失函数的多态性，另一种方法如下：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>static</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>recieveData</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>par</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>静态函数不能直接调用非静态成员函数，需this指针</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span><span>(</span></span><span>ProducterThread</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>par</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--separator syntax--pointer-access syntax--c"><span>-&gt;</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>run</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>start</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pthread_create</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>tid,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>,&nbsp;receiveData,&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>run</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>具体的线程实现</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">类中的常量成员</span></h2>
<ul>
<li>可以使用枚举：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>bakery</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>enum</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>month&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>12</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;costs[month];</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>或使用静态成员变量：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>static</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;month&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>12</span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">静态成员变量</span></h2>
<ul>
<li>static int num_obj;</li>
<li>类中的静态成员变量只创建一个变量副本，也就是类的所有对象共享一个静态成员</li>
<li>静态成员变量可以在类声明之外，方法文件中使用使用单独的语句进行初始化：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;MyString::num_obj&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">静态成员函数</span></h2>
<ul>
<li>不能通过对象调用静态成员函数，通过类名和作用域解析运算符来调用<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>static</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>HowMany</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>MyString::HowMany</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
静态成员函数不能使用this指针，智能使用静态数据成员</li>
</ul>
<h2><span style="color:#ff8000;">作用域为类的枚举</span></h2>
<ul>
<li>使用class / struct定义，使用时名称要求显式限定<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>enum</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>egg</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>Small,&nbsp;Medium,&nbsp;Large,&nbsp;Jumbo</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>enum</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>struct</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>apple</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>Small,&nbsp;Medium,&nbsp;Big</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>egg&nbsp;choice&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;egg::Medium;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>apple&nbsp;pick&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;apple::Medium;</span></span>
</div></pre>
</li>
<li>不能进行隐式类型转化<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;choice2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;choice;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;Not&nbsp;allowed</span></span></span>
</div></pre>
可使用：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>enum</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>::&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>short</span></span><span>&nbsp;pizza&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>Small,&nbsp;Medium,&nbsp;Large,&nbsp;Jumbo</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">运算符重载</span></h2>
<ul>
<li>定义格式：Time operator +(const Time &amp; t) const;</li>
<li>使用：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>total&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;time1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;time2;&nbsp;等效于&nbsp;total&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;time1.</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>time2</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>t4&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;t1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;t2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;t3;&nbsp;等效于&nbsp;t4&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;t1.</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>t2.</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>t3</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span><span>;</span></span>
</div></pre>
</li>
<li>重载后的运算符必须至少有一个操作数是用户定义的类型，使用运算符时不能违反运算符原来的句法规则</li>
<li>不能创建新的运算符，某些运算符不能被重载</li>
<li>大部分运算符可以通过成员函数或非成员函数重载，但 =, [], (), -&gt; 只能通过成员函数重载</li>
<li>如果使用A = 2 * B; 这不同于A = B * 2; 编译器不能使用成员函数调用来替换该表达式，可以使用友元函数或如下方式(非成员函数重载，但不访问私有数据)：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>Time&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Time&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;t</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;t&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;n;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>为区分++运算符的前缀与后缀版本，c++将operator++()作为前缀版本，operator++(int)作为后缀版本，其中的参数不会用到</li>
</ul>
<h3><span style="color:#00ff00;">重载 [] 运算符</span></h3>
<ul>
<li>operator <a href=""></a>将重载[]运算符</li>
<li>char &amp; MyString::operator [] (int i) {return str[i]; }         // 返回char &amp;类型，可以给特定元素赋值</li>
<li>对于对象 const MyString answer(“future”); 如果只有上述定义 cout &lt;&lt; answer[1]; 将出错，因此需要定义一个const对象使用的operator[]定义：</li>
<li>const char MyString::operator [] (int i) const { return str[i]; }</li>
</ul>
<h2><span style="color:#ff8000;">友元函数</span></h2>
<ul>
<li>
<p>允许非成员函数访问类的私有成员</p>
</li>
<li>
<p>声明： friend Time operator*(int n, const Time &amp; t ); // 类中声明，表明虽然有声明，但不是成员函数，不能使用成员运算符来调用，但具有成员函数访问权限</p>
</li>
<li>
<p>定义： Time operator*(int n, const Time &amp; t ) { … }   // 不使用friend，不使用Time::限定符</p>
</li>
<li>
<p>A = 2 * B 将等效于 A = operator*(2, B);</p>
</li>
<li>
<p>实现 cout &lt;&lt; &quot;time: &quot; &lt;&lt; time &lt;&lt; endl; 调用，通过重载 &lt;&lt; 运算符实现，若是通过成员函数重载 &lt;&lt;，则格式需要限定为：</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>time&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;cout;</span></span>
</div></pre>
<p>可通过友元函数重载：</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;os,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Time&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;t</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;os&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;os;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>
<p>共同的友元：</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>函数需要访问两个类的私有数据，可以将函数作为两个类的友元</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Analyzer</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;forward&nbsp;declaration</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Prob</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sync</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Analyser&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;a,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Probe&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;p</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;sync&nbsp;a&nbsp;to&nbsp;p</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sync</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Probe&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;p,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Analyser&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;a</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;sync&nbsp;p&nbsp;to&nbsp;a</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Analyzer</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sync</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Analyser&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;a,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Probe&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;p</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;sync&nbsp;a&nbsp;to&nbsp;p</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sync</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Probe&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;p,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Analyser&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;a</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;sync&nbsp;p&nbsp;to&nbsp;a</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>inline</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sync</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Analyser&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;a,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Probe&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;p</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;sync&nbsp;a&nbsp;to&nbsp;p</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>inline</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sync</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Probe&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;p,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Analyser&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;a</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;sync&nbsp;p&nbsp;to&nbsp;a</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">类的强制类型转换函数</span></h2>
<ul>
<li>将类对象转换为int / double等基本类型<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
转换函数必须是类方法，不能有返回类型，不能有参数<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Stonewt</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;pounts;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span><span class="syntax--invalid syntax--illegal syntax--you-forgot-semicolon syntax--cpp"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>Stonewt::</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;pounts;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>...</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stonewt&nbsp;po</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2.34</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;height&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>po;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;weight&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;po;</span></span>
</div></pre>
<br>
</li>
<li>explicit关键字也可以用于转换函数，将禁止隐式转换：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>explicit</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;height&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>po;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;allowed</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;weight&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;po;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;not&nbsp;allowed</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">特殊成员函数</span></h2>
<ul>
<li>C++自动提供以下成员函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>默认构造函数</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>默认析构函数</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>复制构造函数</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>赋值运算函数</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>地址运算函数</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>移动构造函数</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>移动赋值运算符</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">复制构造函数</span></h2>
<ul>
<li>用于将一个对象复制到新创建的对象中，只用于初始化</li>
<li>当函数按值传递对象或返回对象时，都将调用复制构造函数</li>
<li>通常的原型：Class_name(const Class_name &amp;) { … }</li>
<li>功能：默认的复制构造函数逐个复制成员的值<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;food&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Cabbage</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>50</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>1.25</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;drink&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;food;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fruit</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>food</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;milk&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>food</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stock&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>meat&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Stock</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>food</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">在构造函数使用new分配内存的类中将存在问题：</span></h3>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>MyString</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;str;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>MyString</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;s</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function syntax--destructor syntax--cpp"><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>~MyString</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>MyString::MyString</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;s</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;str&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>[</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>];&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;new分配内存</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--destructor syntax--cpp"><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>MyString::~MyString</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete[]</span></span><span>&nbsp;str;&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;delete释放内存</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>func_val</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>MyString&nbsp;string</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;按值传递函数调用</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>main</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;MyString</span><span class="syntax--meta syntax--initialization syntax--c"><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--c"><span>st1</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>(</span></span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>hello&nbsp;world</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>);&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>func_val</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>st1</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
<ul>
<li>按值传递的函数调用默认复制构造函数string.str = st1.str, 函数返回时调用string的析构函数会释放该内存，实际导致st1的内存被释放</li>
<li>解决： 提供一个显示复制构造函数，尤其是类中有使用new分配内存的指针成员时，以复制指向的数据</li>
<li>另外，可以声明一个private的复制构造函数，以便对于不希望有复制操作的类，便于追踪错误，这种情况将调用类的私有方法，产生错误</li>
</ul>
<h2><span style="color:#ff8000;">赋值运算函数</span></h2>
<ul>
<li>
<p>将已有的对象赋值给另一个对象时将使用赋值运算符</p>
</li>
<li>
<p>初始化对象时Stock drink = food; 将使用复制构造函数 （根据实现，也可能通过先创建临时变量，再调用赋值运算函数）</p>
</li>
<li>
<p>通常的原型：Class_name &amp; Class_name::operator = (const Class_name &amp;)</p>
</li>
<li>
<p>赋值运算符只能由类成员函数重载</p>
</li>
<li>
<p>在调用 vegetable = food; 时，会有类似复制构造函数的问题，因此对于需要new分配空间的指针成员，显示定义赋值运算函数</p>
</li>
<li>
<p>由于目标对象可能使用了以前分配的数据，所以应先使用delete[]来释放这些数据</p>
</li>
<li>
<p>函数应避免将对象赋给自身</p>
</li>
<li>
<p>函数返回一个调用对象的引用</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>MyString&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;amp;&nbsp;MyString::</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;MyString&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;mstr</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;mstr</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;根据地址判断是否相同</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete[]</span></span><span>&nbsp;str;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">移动语义 (移动构造函数 / 移动复制运算符)</span></h2>
<ul>
<li>用于接管其他对象数据的所有权，如函数返回值创建的临时对象，避免重复分配内存</li>
<li>如果定义了移动构造函数 / 移动赋值运算符，右值引用的参数将调用它们，否则调用复制构造函数 / 复制赋值运算符</li>
<li>默认的移动构造函数与移动赋值运算符工作方式与复制版本类似</li>
<li>在有移动语义之前对于：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>Object&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Object2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;Object3</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div></pre>
将首先创建返回值的临时对象，再调用复制构造函数，然后销毁临时对象</li>
<li>在引入移动语义之后，一般编译器会进行优化，即使没有使用移动语义，也可以直接将所有权转移给Object1，消除额外的复制工作</li>
</ul>
<h3><span style="color:#00ff00;">移动构造函数</span></h3>
<ul>
<li>要实现移动语义，可定义两个复制构造函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>一个是常规复制构造函数，使用const左值引用作为参数，关联到左值实参，执行深度复制</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>另一个是移动构造函数，使用右值引用作为参数，关联到右值实参，让编译器知道不需要复制，只调整记录，参数不能为const</span></span>
</div></pre>
</li>
<li>Foo.h<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Foo</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;pc;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Foo</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>explicit</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Foo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Foo</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;ch</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Foo</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Foo&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;regular&nbsp;copy&nbsp;constructor</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Foo</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Foo&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;move&nbsp;constructor</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function syntax--destructor syntax--cpp"><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>~Foo</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Foo&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>conft&nbsp;Foo&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>Foo.c<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Foo::Foo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;pc&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--cpp"><span>nullptr</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Foo::Foo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>n</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>k</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;pc&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>[n];&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Foo::Foo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;ch</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>n</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>k</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>[n];</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;n;&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;pc[i]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;ch;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Foo::Foo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Foo&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>n</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>f.n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>[n];</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;n;&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;pc[i]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>pc</span></span><span>[i];&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Foo::Foo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Foo&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>n</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>f.n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>pc</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>pc</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--cpp"><span>nullptr</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;give&nbsp;old&nbsp;object&nbsp;nullptr&nbsp;in&nbsp;return,&nbsp;delete[]&nbsp;cannot&nbsp;be&nbsp;used&nbsp;on&nbsp;same&nbsp;address&nbsp;twice.</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>n</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--destructor syntax--cpp"><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Foo::~Foo</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete[]</span></span><span>&nbsp;pc;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Foo&nbsp;Foo::</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>conft&nbsp;Foo&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Foo&nbsp;temp&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Foo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>n</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;n;&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;temp[i]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;pc[i];&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>n</span></span><span>;&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;temp</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>n</span></span><span>;&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;temp[i]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>pc</span></span><span>[i</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span>n];&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;temp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>test.c<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>Foo&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>one</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>x</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Foo&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>two</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>y</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Foo&nbsp;three&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;one;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;calls&nbsp;copy&nbsp;constructor</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Foo&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>four</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>one&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;two</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;calls&nbsp;operator+(),&nbsp;move&nbsp;constructor</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">移动赋值运算符</span></h3>
<ul>
<li>同样使用右值引用，将源目标的所有权转让给目标，形参不能是const：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>Foo&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;Foo::</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Foo&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;copy&nbsp;assignment</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>f</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete[]</span></span><span>&nbsp;pc;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>n</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>[n];</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;n;&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;pc[i]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>pc</span></span><span>[i];&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Foo&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;Foo::</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Foo&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;move&nbsp;assignment</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>f</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete[]</span></span><span>&nbsp;pc;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>n</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>pc</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>pc</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--cpp"><span>nullptr</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>n</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">强制移动</span></h3>
<ul>
<li>对于类似 Foo Object1 = Object2; 使用左值引用的场景，将调用复制构造函数，若要强制调用移动构造函数，可以使用：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--operator syntax--cast syntax--cpp"><span>static_cast</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span><span>&gt;</span></span><span>&nbsp;运算符将对象强制转换成&nbsp;Foo&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span>类型</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::move</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;函数，将左值引用转换为右值引用，在头文件utility中定义</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Foo&nbsp;Object1,&nbsp;Object2;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Foo&nbsp;Object3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;Object1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;Object2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;calls&nbsp;move&nbsp;construstor</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Object3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;Object1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;copy&nbsp;assignment</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Object3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;Object1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;Object2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;move&nbsp;assignment</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Object3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::move</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Object1</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;forcced&nbsp;move&nbsp;assignment</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
对于使用了move()的场景，如果没有定义右值引用对应的函数(移动赋值运算符)，将调用左值引用的函数(复制赋值运算符)</li>
</ul>
<h2><span style="color:#ff8000;">构造函数中使用new</span></h2>
<ul>
<li>1.如果在构造函数中使用new来初始化指针成员，则应在析构函数中使用delete。</li>
<li>2.new和delete必须相互兼容。new对应于delete，new[]对应于delete[]。</li>
<li>3.如果有多个构造函数，则必须以相同的方式使用new，要么都带中括号，要么都不带。因为只有一个析构函数，因此所有的构造函数都必须与它兼容。可在一个构造函数中将指针初始化为空，这是因为delete可以用于空指针。</li>
<li>4.应定义一个复制构造函数，通过深复制将一个对象初始化为另一个对象，具体地说，复制构造函数应分配足够的空间来存储复制的数据，并复制数据，而不仅仅是数据的地址。另外，还应该更新所有受影响的静态类成员</li>
<li>5.应当定义一个赋值操作符，通过深复制将一个对象复制给另一个对象，具体地说，该方法应完成这些操作，检查自我赋值的情况，释放成员指针以前指向的内存，赋值数据而不仅仅是数据的地址，并返回一个指向调用对象的引用</li>
</ul>
<h2><span style="color:#ff8000;">成员初始化列表</span></h2>
<ul>
<li>用于初始化函数中，对象创建时在函数体执行之前初始化参数</li>
<li>对于const成员变量，只能使用这种方法来初始化，因为函数体执行时会创建const常量，此时无法再进行赋值操作</li>
<li>对于被声明为引用的类成员也必须使用初始化列表语法</li>
<li>初始化顺序按照成员声明顺序，而不是在初始化列表中的顺序</li>
<li>对于类成员mem1初始化为val值, mem2为0，mem3为n*2：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>class_name::classname</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>type_name&nbsp;val</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>mdata</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>val</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>mem2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>mem3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>n</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>示例：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Player</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;firstName;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;lastName;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;hasTable;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Player</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>fn&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>none</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>ln&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>none</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;ht&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--c"><span>false</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>...</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Player::Player</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>fn,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>ln,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;ht</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>firstName</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>fn</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>lastName</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ln</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>hasTable</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ht</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>类内初始化：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Session</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;mem1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;mem2&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>19.66</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>short</span></span><span>&nbsp;mem3;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Session</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;#1</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Session</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>short</span></span><span>&nbsp;s</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>mems</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>s</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;#2</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Session</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;d,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>short</span></span><span>&nbsp;s</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>mem1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>mem2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>d</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>mem3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>s</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;#3</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>使用成员初始化列表的构造函数将使用列表值覆盖这些默认初始值，因此第三个构造函数覆盖了类内成员初始化值</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">委托构造函数 (一个构造函数的定义中使用另一个构造函数)</span></h2>
<ul>
<li>如果类定义了多个构造函数，可以在一个构造函数的定义中使用另一个构造函数，可用于成员初始化列表：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Notes</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;x;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;s;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Notes</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Notes</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Notes</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;y</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Notes</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;y,&nbsp;string&nbsp;t</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Notes::Notes</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;y,&nbsp;string&nbsp;t</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>n</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>k</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>x</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>y</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>s</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>t</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Notes</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Notes</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0.01</span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Ah</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Notes</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Notes</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>k,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0.01</span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Ah</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Notes</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;y</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Notes</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>k,&nbsp;y,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Ah</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">默认的方法default / 禁用的方法 delete</span></h2>
<ul>
<li>default用于声明特殊成员函数的默认版本，如在提供了构造函数的情况下，自动生成默认的构造函数，只能用于6个特殊成员函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>Class&nbsp;Someclass&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Someclass</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Someclass&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Someclass</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>default</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;use&nbsp;default&nbsp;constructor</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Someclass</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Someclass&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>default</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Someclass&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Someclass&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>default</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>delete用于禁止编译器使用特定方法，只用于查找匹配函数，使用它们将导致编译错误，如禁止复制对象，禁止特定的转换：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>Class&nbsp;Someclass&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Someclass</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>default</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;use&nbsp;default&nbsp;constructor</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Someclass</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Someclass&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;disable&nbsp;copy&nbsp;constructor</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Someclass&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Someclass&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;disable&nbsp;copy&nbsp;assignment&nbsp;operator</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Someclass</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Someclass&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>default</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;use&nbsp;default&nbsp;move&nbsp;constructor</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Someclass&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Someclass&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>default</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;use&nbsp;default&nbsp;move&nbsp;assignment&nbsp;operator</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span class="syntax--meta syntax--initialization syntax--c"><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--c"><span>redo</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>(</span></span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span class="syntax--meta syntax--initialization syntax--c"><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--c"><span>redo</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>(</span></span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>)&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;refusing&nbsp;int&nbsp;parameter,&nbsp;not&nbsp;allowed&nbsp;to&nbsp;convert&nbsp;to&nbsp;double&nbsp;value</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如果在启用移动方法的同时禁用复制方法，因为移动引用的操作智能关联到右值，以下：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Someclass&nbsp;one,&nbsp;two;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Someclass&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>three</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>one</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;not&nbsp;allowed,&nbsp;one&nbsp;is&nbsp;a&nbsp;lvalue</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Someclass&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>four</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>one&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;two</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;allowed</span></span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">类继承 （公有继承）</span></h1>
<ul>
<li>派生类 ----&gt; is-a ----&gt; 基类</li>
<li>派生类对象存储了基类的数据成员，可以使用基类的方法</li>
<li>基类的私有成员也将成为派生类的一部分，但只能通过基类的公有和保护方法访问</li>
<li>派生类中的成员名称优先于直接或间接继承来的同名名称</li>
<li>如果派生类没有重新定义函数，将使用该函数的基类版本</li>
</ul>
<h2><span style="color:#ff8000;">声明</span></h2>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>RatedPlayer</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Player</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;公有派生</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>unsigned</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;rating;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;add&nbsp;a&nbsp;new&nbsp;data&nbsp;member</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>RatedPlayer</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>unsigned</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;r&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>fn&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>none</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>ln&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>none</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;ht&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--language syntax--c"><span>false</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>RatedPlayer</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>unsigned</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;r,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Player&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>pl</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>unsigned</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Rating</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;rating;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;add&nbsp;a&nbsp;new&nbsp;method</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
<h2><span style="color:#ff8000;">派生类的构造函数 / 析构函数</span></h2>
<ul>
<li>派生类需要自己的构造函数，可以根据需要添加额外的数据成员和成员函数，必须给新成员和继承的成员提供数据</li>
<li>创建派生类对象时首先创建基类，基类对象应当在进入派生类构造函数之前创建，C++使用成员初始化列表语法来完成：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>RatedPlayer::RatedPlayer</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>undigned&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;r,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>fn,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>ln,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;ht</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Player</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>fn,&nbsp;ln,&nbsp;ht</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;rating&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;r;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;除非使用默认构造函数，否则应显示调用基类构造函数</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>RatedPlayer::RatedPlayer</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>unsigned</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;r,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Player&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>pl</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Player</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pl</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rating</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>r</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;调用基类的复制构造函数，若没有定义将使用隐式的成员复制构造函数</span></span></span>
</div></pre>
</li>
<li>派生类对象过期时，将首先调用派生类的析构函数，然后调用基类的析构函数<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--destructor syntax--cpp"><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Player::~Player</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete[]</span></span><span>&nbsp;name;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--destructor syntax--cpp"><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>RatedPlayer::~RatedPlayer</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete[]</span></span><span>&nbsp;style;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">基类 / 派生类 指针 / 引用</span></h2>
<ul>
<li>基类 指针 / 引用 可以在不进行显示类型转换的情况下 指向 / 引用 派生类对象，基类 指针 / 引用只能用于调用基类方法 （向上强制转换upcasting）</li>
<li>基类引用定义的函数或指针参数可用于基类对象或派生类对象</li>
<li>派生类对象可用于基类对象初始化，或将派生类对象赋给基类对象：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>RatedPlatyer&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>olaf1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1840</span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Olaf</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Loaf</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--language syntax--c"><span>true</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Player&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>olaf2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>olaf1</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;调用基类的复制构造函数</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Player&nbsp;winner;&nbsp;winner&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;olaf1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;调用基类的赋值运算符</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">派生类的复制构造函数 / 重载赋值运算符</span></h2>
<ul>
<li>如果派生类中使用了动态内存分配，派生类的复制构造函数需要显示调用基类的复制构造函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>RatedPlayer::RatedPlayer</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;RatedPlayer&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;rp</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Player</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>rp</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>对于重载赋值运算符有同样要求：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>RatedPlayer&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;RatedPlayer::</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;RatedPlaer&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;rp</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;rp</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Player::</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>rp</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;or&nbsp;*&nbsp;this&nbsp;=&nbsp;rp;&nbsp;recursive&nbsp;invocation</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">派生类访问基类的友元函数</span></h2>
<ul>
<li>基类友元函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Player</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;std::ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>std::ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;os,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Player&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;pl</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>std::ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>std::ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;os,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Player&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;pl</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>os;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
派生类友元函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>RatedPlayer</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Player</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;std::ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>std::ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;os,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;RatedPlayer&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;rp</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>std::ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>std::ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;os,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;RatedPlayer&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;rp</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Player&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>rp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>os;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>友元不是成员函数，不能通过作用域解析运算符调用，解决方法是使用强制类型转换，以在匹配远行时选择正确的函数</li>
<li>另一种更好的强制类型转换方法：os &lt;&lt; dynamic_cast&lt;const Player &amp;&gt; (rp);</li>
</ul>
<h2><span style="color:#ff8000;">多态 （多态公有继承）</span></h2>
<ul>
<li>
<p>多态公有继承：同一个方法在基类与派生类中行为是不同的，取决于调用该方法的对象</p>
</li>
<li>
<p>实现机制：</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>在派生类中重新定义基类的方法</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>使用虚方法</span></span>
</div></pre>
</li>
<li>
<p>class Player { …, void viewAcct() const; };</p>
</li>
<li>
<p>class RatedPlayer { …, void viewAcct() const; };</p>
</li>
<li>
<p>void Retedplayer::viewAcct() const {Player::viewAcct(); … }</p>
</li>
<li>
<p>重新定义继承的方法不是重载，如果在派生类中重新定义函数，将隐藏同名的基类函数，不管参数特征标如何：</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>如果重新定义继承方法，应确保与原来的原型完全相同，但如果返回类型是基类引用或指针，可以修改为指向派生类的&nbsp;（返回类型协变）</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如果基类声明被重载了，应在派生类中重新定义所有的基类版本</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Player</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>func</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>func</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>func</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;d</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Player</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>func</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>func</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>func</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;d</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如果只定义了一个方法，其他两个将被隐藏，派生类对象无法使用它们</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
<p>可以在派生类中将基类的公有方法在private中声明，以隐藏该方法</p>
</li>
</ul>
<h2><span style="color:#ff8000;">虚方法</span></h2>
<ul>
<li>关键字virtual，只用于类声明的方法原型中</li>
<li>当方法是通过引用 / 指针而不是对象调用时：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>如果没有使用virtual，程序将根据引用</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>指针类型来选择方法；</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如果使用了virtual，将根据引用或指针指向的对象的类型来选择方法</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>对于：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Player&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pl1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--vararg-ellipses syntax--c"><span>...</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>RatedPlayer&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pl2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--vararg-ellipses syntax--c"><span>...</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Player&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>pl_ref1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;pl1;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Player&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>pl_ref2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;pl2;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如果方法&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>viewAcct</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;不是virtual:</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pl_ref1.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>viewAcct</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;using&nbsp;Player::viewAcct()</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pl_ref2.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>viewAcct</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;using&nbsp;Player::viewAcct()</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如果方法&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>viewAcct</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;是virtual:</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pl_ref1.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>viewAcct</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;using&nbsp;Player::viewAcct()</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pl_ref2.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>viewAcct</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;using&nbsp;RatedPlayer::viewAcct()</span></span></span>
</div></pre>
</li>
<li>经常在基类中将派生类会重新定义的方法声明为虚方法，在派生类中将自动成为虚方法，在派生类声明中使用关键字virtual来指出哪些函数是虚函数</li>
<li>为基类声明一个虚析构函数，确保释放派生对象时按正确的顺序调用析构函数</li>
<li>构造函数与友元函数不能是需函数，析构函数应当是虚函数</li>
<li>通常应为基类提供一个虚析构函数，即使并不需要</li>
<li>如果需要，可以在友元函数中调用虚方法来解决</li>
</ul>
<h3><span style="color:#00ff00;">动态联编</span></h3>
<ul>
<li>函数名联编：将源代码中的函数调用解释为执行特定的函数代码块</li>
<li>静态联编：在编译过程中进行联编，效率更高，非虚方法使用</li>
<li>动态联编：程序运行时选择代码块，因为对于虚方法，在编译时使用哪个函数是不确定的</li>
</ul>
<h3><span style="color:#00ff00;">虚函数工作原理</span></h3>
<ul>
<li>对于每个有虚方法定义的基类，新增一个隐藏成员，该成员保存一个指向函数地址数组的指针，这种数组称为虚函数表，存储了类声明的虚函数地址，</li>
<li>在派生类继承时，也将创建另一个隐藏成员：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>如果没有重新定义虚函数，数组中将保存基类的虚函数地址</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如果重新定义了虚函数，数组中将保存新定义虚函数的地址</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如果新增虚函数，数组中将添加新的虚函数地址</span></span>
</div></pre>
因此使用虚函数将：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>为每个对象新增一个成员</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>为每个类新建一个虚函数表</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>为每一测虚函数调用新增一次查找地址操作</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">访问控制 protected</span></h2>
<ul>
<li>派生类成员可以直接访问基类的保护成员，类外只能通过公有类成员来访问protected部分中的类成员</li>
<li>对于数据成员最好还是使用private，不要使用protected</li>
<li>对于成员函数，使派生类能访问外部不能使用的函数</li>
</ul>
<h2><span style="color:#ff8000;">抽象基类 abstract base class， ABC</span></h2>
<ul>
<li>当类声明中包含纯虚函数时该类将称为抽象基类</li>
<li>不能创建该类的对象，只能用作基类</li>
<li>纯虚函数 pure virtual function： 声明结尾处为=0，提供未实现的函数<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Area</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>在类中可以不定义该函数，也可以在实现文件中提供方法的定义</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">继承构造函数 (using)</span></h2>
<ul>
<li>using 可以用于让名称空间中的函数可用：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>namespace</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Box</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--scope syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fn</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fn</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--namespace-block syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--scope syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;Box::fn;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>使fn的所有重载版本都可用</span></span>
</div></pre>
</li>
<li>也可以用于派生类中使用基类方法：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>C1</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fn</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fn</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>C2</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;C1::fn;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fn</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>C2&nbsp;c2;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;c2.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fn</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;uses&nbsp;C1::fn(int)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;d&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;c2.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fn</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2.4</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;uses&nbsp;C2::fn(double)</span></span></span>
</div></pre>
</li>
<li>这种方法也可以用于构造函数，让派生类继承基类的所有构造函数(默认构造函数 / 复制构造函数 / 移动构造函数除外)：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>calss&nbsp;BS&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;q;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;w;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>BS</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>q</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>w</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>BS</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>q</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>k</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>w</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>BS</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>q</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>w</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>BS</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;k,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>q</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>k</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>w</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>DR</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>BS</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>short</span></span><span>&nbsp;j;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;BS::BS;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>DR</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>j</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;DR&nbsp;needs&nbsp;its&nbsp;own&nbsp;default&nbsp;constructor</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>DR</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>BS</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>j</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;[&nbsp;???&nbsp;]</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>DR</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>j</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>BS</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>i,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0.5</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>i</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;main&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DR&nbsp;o1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;use&nbsp;DR()</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DR</span><span class="syntax--meta syntax--initialization syntax--c"><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--c"><span>o2</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>(</span></span></span><span class="syntax--constant syntax--numeric syntax--c"><span>18.81</span></span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;use&nbsp;DR(double)&nbsp;instead&nbsp;of&nbsp;BS(double)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DR</span><span class="syntax--meta syntax--initialization syntax--c"><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--c"><span>o3</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>(</span></span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>1.8</span></span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;use&nbsp;BS(int,&nbsp;double)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>优先使用与派生类构造函数特征标匹配的构造函数</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">虚方法 override / final</span></h2>
<ul>
<li>派生类中的同名方法，如果特征标不同，将隐藏基类中所有的同名方法，使其在派生类中不可用</li>
<li>override用于在派生类中指定覆盖基类中的虚方法，如果特征标不同，将引起编译错误：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Action</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Bingo</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Action</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>override</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;over&nbsp;ride&nbsp;base&nbsp;version</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>override</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;compile&nbsp;error</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>final 用于禁止派生类覆盖特定的虚方法：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>final</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;forbid&nbsp;re-define&nbsp;of&nbsp;f()</span></span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">保护继承</span></h1>
<h2><span style="color:#ff8000;">私有继承</span></h2>
<ul>
<li>使用私有继承，基类的公有与保护 成员 / 方法 将成为派生类的私有成员 / 方法</li>
<li>获得实现，但不获得接口， 实现 has-a 关系</li>
<li>private是默认值，因此省略访问限定符将导致私有继承</li>
<li>class Student : private std::string, private std::valarray<double> { … };</double></li>
<li>这里的私有继承为类提供了两个无名的子对象成员，因此使用私有继承时，将使用类名与作用域解析运算符来调用方法</li>
<li>与在类声明中直接包含子类 class Student {private: std::string name; … }; 对比：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>私有继承只能使用一个子类的对象</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>私有继承可以访问原有类的保护成员</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>私有继承可以重新定义基类的虚函数</span></span>
</div></pre>
</li>
<li>构造函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Student</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>private</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>std</span></span><span>::string,&nbsp;private&nbsp;std::valarray</span><span class="syntax--meta syntax--angle-brackets syntax--cpp"><span>&lt;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>typedef</span></span><span>&nbsp;std::valarray</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;ArrayDb;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Student</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::string</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Null&nbsp;name</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>ArrayDb</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;explicit&nbsp;避免接受一个参数的构造函数将对象初始化为一个值</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ecplicit&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Student</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;std::string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;str</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::string</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>std</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>ArrayDb</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ecplicit&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Student</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::string</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Null&nbsp;name</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>ArrayDb</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Student</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;str,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pd,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::string</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>str</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>ArrayDb</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pd,&nbsp;n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;使用类名而不是成员名</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>访问基类方法：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Student::Averrage</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>ArrayDb::size</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>ArrayDb::sum</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>ArrayDb::size</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>else</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>访问基类对象：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Student::Name</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>std::string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>通过强制类型转换，将this指针转换为基类对象</span></span>
</div></pre>
</li>
<li>访问基类友元函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>std::ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;os&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>std::ostream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;os,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Student&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;st</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Name&nbsp;is:&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;std::string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;st&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span class="syntax--constant syntax--character syntax--escape syntax--cpp"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;os;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">保护继承</span></h2>
<ul>
<li>基类的保护与公有成员 / 方法都将称为派生类的保护成员 / 方法</li>
<li>当从派生类派生出另一个类时，使用私有继承时，将不能使用基类的方法，因为基类的方法成为了私有方法，使用保护继承时将继续可以使用</li>
</ul>
<h2><span style="color:#ff8000;">using 重新定义访问权限</span></h2>
<ul>
<li>
<p>使用保护派生或私有派生时，要让基类的方法在派生类外面可用</p>
</li>
<li>
<p>方法一，定义一个使用基类方法的派生类方法：</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Student::sum</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;std::valarray</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>::sum</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
<p>方法二，使用using声明指出派生类可以使用基类的特定成员：</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Student</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>private</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>std</span></span><span>::string&nbsp;:&nbsp;private&nbsp;std::valarray</span><span class="syntax--meta syntax--angle-brackets syntax--cpp"><span>&lt;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;std::valarray</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>::max;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;没有括号&nbsp;/&nbsp;函数特征标&nbsp;/&nbsp;返回类型</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;std::valarray</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>::min;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">多重继承 MI</span></h1>
<ul>
<li>主要问题：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>从两个不同的类继承同名方法</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>从两个或更多相关基类继承同一个类的多个实例</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">一般继承关系</span></h2>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Worker</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Singer</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Worker</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Writer</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Worker</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
<ul>
<li>派生类 class SingerWriter : public Singer, public Writer { … }; 将存在两个Worker对象，此时需要通过类型转换指定使用的Worker：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>SingerWriter&nbsp;sw;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Worker&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;ps&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>&nbsp;Singer&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>sw;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Worker&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;pw&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>&nbsp;Writer&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>sw;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>但这种方法将使对象包含两个Worker对象</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">虚基类</span></h2>
<ul>
<li>关键字virtual （与虚函数无关，只为了不填加新的关键字）</li>
<li>虚基类使从多个类派生出的对象只继承一个基类对象<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Worker</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Singer</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;public&nbsp;Worker&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Writer</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>virtua</span></span><span>&nbsp;Worker&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>派生类&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>SingerWriter</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Singer</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Writer</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>继承的Singer与Writer对象共享一个Worker对象，因此可以使用多态</span></span>
</div></pre>
</li>
<li>使用虚基类的派生类需要显示调用基类的构造函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>SingerWriter</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Worker&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>wk,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;v&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;Singer::other</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Worker</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>wk</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Writer</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>wk,&nbsp;p</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Singer</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>wk,&nbsp;v</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>若使用：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>SingerWriter</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Worker&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>wk,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;v&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;Singer::other</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Writer</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>wk,&nbsp;p</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Singer</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>wk,&nbsp;v</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>将不能使用wk初始化Worker，而是会调用Worker的默认构造函数</span></span>
</div></pre>
</li>
<li>混合使用virtual：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Singer</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;public&nbsp;Worker&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Dancer</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;public&nbsp;Worker&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Writer</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Worker</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Speaker</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Worker</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>派生类&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>MutiWorker</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Singer</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Dancer</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Writer</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Speaker</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;&nbsp;将包含三个Worker类子对象</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">多重继承中的同名方法</span></h2>
<ul>
<li>可以使用作用域解析运算符指定使用哪个方法：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>SingerWriter&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>newhire</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--vararg-ellipses syntax--c"><span>...</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>newhire.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Singer::show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
更好的方法是在SingerWriter中重新定义新的同名方法，并指明使用哪个版本的方法：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>SingerWriter::show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Singer::show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Writer::show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">友元类</span></h1>
<ul>
<li>定义一种关系，既不是公有继承的is-a关系，也不是包含或私有/保护继承的has-a关系，比如电视机 + 遥控器的关系</li>
<li>友元类的所有方法可以访问原始类的所有私有和保护成员</li>
<li>友元声明可以位于公有 / 私有 / 保护部分</li>
</ul>
<h2><span style="color:#ff8000;">使用示例</span></h2>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Tv</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Remote</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>enum</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>TV,&nbsp;DVD</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>volup</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;friend&nbsp;class&nbsp;refering&nbsp;Tv&nbsp;class,&nbsp;should&nbsp;after&nbsp;the&nbsp;declaration&nbsp;of&nbsp;Tv.</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Remote</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;mode;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Remote</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;m&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;Tv::TV</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>mode</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>m</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>volup</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Tv&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;t</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;t</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>volup</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;using&nbsp;Tv&nbsp;function.</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>main</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tv&nbsp;s42;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s42</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>volup</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remote&nbsp;white;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>volup</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>s42</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tv&nbsp;s58;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>volup</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>s58</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
<h2><span style="color:#ff8000;">友元成员函数</span></h2>
<ul>
<li>将特定的类成员成为另一个类的友元，而不必让整个类成为友元</li>
<li>使用其他类成员函数作为友元的类，需要在声明之前已经有改函数的声明，因此需要注意声明的顺序<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Tv</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;forwad&nbsp;declaration</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Remote</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;mode;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>enum</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>TV,&nbsp;DVD</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Remote</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;m&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;TV</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>mode</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>m</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boll&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>volup</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Tv&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;t</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;can&nbsp;not&nbsp;call&nbsp;Tv&nbsp;public&nbsp;function&nbsp;here.</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>set_chan</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Tv&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;t,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;chan</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;declaration&nbsp;of&nbsp;the&nbsp;funtion&nbsp;will&nbsp;be&nbsp;friend.</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Tv</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Remote::set_chan</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Tv&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;t,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;chan</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;friend&nbsp;function</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>enum</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>TV,&nbsp;DVD</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>volup</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;channel;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;Remote&nbsp;methods&nbsp;as&nbsp;inline&nbsp;function</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>inline</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Remote::volup</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Tv&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;t</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;t</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>volup</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;Tv::volup()&nbsp;function&nbsp;has&nbsp;been&nbsp;declared,&nbsp;and&nbsp;calling&nbsp;only&nbsp;public&nbsp;method.</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>inline</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Remote::set_chan</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Tv&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;t,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;chan</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;t</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>channel</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;chan;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;friend&nbsp;function&nbsp;using&nbsp;private&nbsp;member&nbsp;of&nbsp;Tv</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>...</span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">异常</span></h1>
<ul>
<li>c++异常是对程序运行过程中发生的异常情况的一种响应，通过throw 值/对象 来表达异常</li>
<li>当异常发生时程序的默认处理方式是程序终止</li>
<li>异常发生时，如果当前函数不能捕获该异常，将继续向上层调用者传递</li>
<li>引发异常时，编译器总是创建一个临时拷贝，即使catch块中指定的是引用，因为函数结束时将释放自动变量，导致上层调用者无法引用到异常发生时创建的变量</li>
<li>在catch快中仍使用引用，使基类引用可以匹配派生类对象</li>
</ul>
<h2><span style="color:#ff8000;">try / catch / throw语法</span></h2>
<ul>
<li>可以定义一个异常类，用来区分不同的异常：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>bad_hmean</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;a;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>bad_hmean</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;v1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>a</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>v1</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>msg</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
<br>
</li>
<li>在可能出现异常的代码上使用try - catch关键字：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>main</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>try</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>foo1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>foo2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>catch</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>bad_hmean&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;bh</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;exception&nbsp;type,&nbsp;could&nbsp;be&nbsp;class&nbsp;type</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bh</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>msg</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;exception&nbsp;handle&nbsp;method.&lt;br&nbsp;/&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>catch</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;s</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>catch</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;catch&nbsp;all</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>使用c</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>atch</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--vararg-ellipses syntax--c"><span>...</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;代表捕捉所有异常，该捕捉方式必须放在所有捕捉之后，越宽泛的捕捉方式后放</span></span>
</div></pre>
</li>
<li>throw引发异常：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>foo1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>a&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span>b</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>throw</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>bad&nbsp;arguments:&nbsp;a&nbsp;==&nbsp;-b.</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;throw&nbsp;exception,&nbsp;match&nbsp;catch(const&nbsp;char&nbsp;*&nbsp;s)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>foo2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>a&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>throw</span></span><span class="syntax--meta syntax--initialization syntax--c"><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--c"><span>bad_hmean</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>(</span></span></span><span>a);</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>try</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>foo1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>catch</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;s</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>throw</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;re-throws&nbsp;excption&nbsp;to&nbsp;up&nbsp;caller</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">异常规范（c++11建议不使用）</span></h2>
<ul>
<li>告知该函数可能发生哪些异常：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>foo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;may&nbsp;throw&nbsp;any&nbsp;type&nbsp;exception&nbsp;该函数可能抛出任何异常*/</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>foo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>throw</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;may&nbsp;throw&nbsp;int&nbsp;/&nbsp;double&nbsp;/&nbsp;const&nbsp;char*&nbsp;exception</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>foo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>throw</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;doesn&#39;t&nbsp;throw&nbsp;an&nbsp;excption</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>foo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>noexcept</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;doesn&#39;t&nbsp;throw&nbsp;an&nbsp;excption</span></span></span>
</div></pre>
</li>
<li>在带异常规范的函数中引发的异常需要跟规范中某一类型匹配，否则将引起程序异常终止</li>
<li>set_unexpected()函数用于修改默认行为</li>
</ul>
<h2><span style="color:#ff8000;">栈解退</span></h2>
<ul>
<li>函数调用跳转时，程序将调用函数的指令地址放入栈中，被调用函数执行完毕时从该地址继续执行，并释放其自动变量，如果是类，则调用析构函数。</li>
<li>函数出现异常终止时，程序也会释放栈中内存，但不会在释放栈的第一个返回地址后停止，而是继续释放栈，直到找到一个位于try块中的返回地址。</li>
<li>之后函数将跳转到块尾的异常处理程序，这个过程称为栈解退</li>
<li>以下程序中：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>test1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;ar&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>n</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>oh_no</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>throw</span></span><span class="syntax--meta syntax--initialization syntax--c"><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--c"><span>exception</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>(</span></span></span><span>);</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete[]</span></span><span>&nbsp;ar;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>栈解退时将删除ar，且无法调用末尾的delete[]，导致内存泄漏</span></span>
</div></pre>
未避免这种内存泄漏，可以捕获该异常，并在catch中包含一些清理代码：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>test2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;ar&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>n</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>try</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>oh_no</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>throw</span></span><span class="syntax--meta syntax--initialization syntax--c"><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--c"><span>exception</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>(</span></span></span><span>);</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>catch</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>exception&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>ex</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete[]</span></span><span>&nbsp;ar;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>throw</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete[]</span></span><span>&nbsp;ar;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
或使用智能指针模板</li>
</ul>
<h2><span style="color:#ff8000;">exception类</span></h2>
<ul>
<li>#include <exception></exception></li>
<li>其他异常可以使用exception类作为基类，虚方法what()返回一个字符串，派生类可以重新定义它<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>bad_hmean</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>std</span></span><span>::exception&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>what</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>bad&nbsp;argument&nbsp;for&nbsp;hmean.</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">stdexcept异常类</span></h3>
<ul>
<li>#include <stdexcept></stdexcept></li>
<li>定义了logic_error类和runtime_error类，exception类派生而来，用作两类异常的基类</li>
<li>这两个类都定义了接受一个string对象的构造方法，用于what()方法返回的字符串<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>logic_error</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>exception</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>explicit</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>logic_error</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;what_arg</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>logic_error：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>描述逻辑错误，通过合理的变成可以避免这种错误</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>domain_error：&nbsp;参数不在定义域范围内</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>invalid_argument：参数值无效</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>length_error：没有空间执行所需操作，如string.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>append</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>out_of_bounds：索引错误，如operator[]方法</span></span>
</div></pre>
</li>
<li>runtime_error：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>运行期间难以预计的错误</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>range_error</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>overflow_error</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>underflow_error</span></span>
</div></pre>
</li>
<li>用例：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>try</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>catch</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>out_of_bounds&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;oe</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;oe</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>what</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>catch</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>logic_error&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;le</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;le</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>what</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>catch</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>exception&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;e</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;e</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>what</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">bad_alloc异常和new</span></h3>
<ul>
<li>使用new导致的内存分配失败问题，c++最新处理方式是引发bad_alloc异常<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>try</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Big&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;pb&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Big</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1000</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>catch</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>bad_alloc&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;ba</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;ba</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>what</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>很多代码都是针对new失败返回空指针设计的，为此提供了一个失败时返回空指针的new：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;pa&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>std::nothrow</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>[</span><span class="syntax--constant syntax--numeric syntax--c"><span>5000</span></span><span>];</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">自定义异常类继承exception类</span></h3>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Sales</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>bad_index</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>logic_error</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;ix;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>explicit</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>bad_index</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;s&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Index&nbsp;error&nbsp;in&nbsp;Sales.</span><span class="syntax--constant syntax--character syntax--escape syntax--cpp"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--destructor syntax--cpp"><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>~bad_index</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>[]</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>[]</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Sales::bad_index::bad_index</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;string&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;s</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;:&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>logic_error</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>s</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>ix</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;Sales::</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>[]</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>||</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;MAX</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>throw</span></span><span class="syntax--meta syntax--initialization syntax--c"><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--c"><span>bad_index</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>(</span></span></span><span>i);</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
<h2><span style="color:#ff8000;">未捕获异常</span></h2>
<ul>
<li>未捕获异常不会导致程序立刻终止，将调用函数terminate()，默认情况下terminate()函数调用abort()</li>
<li>可通过set_terminate()函数（头文件exception）修改terminate()默认行为：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>typedef</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>terminate_handler</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>terminate_handler&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>set_terminate</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>terminate_handler&nbsp;f</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;no_except;</span></span>
</div></pre>
</li>
<li>使用：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>myQuit</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Terminate&nbsp;due&nbsp;to&nbsp;unexpected&nbsp;exception!</span><span class="syntax--constant syntax--character syntax--escape syntax--cpp"><span>\n</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--whitespace syntax--support syntax--function syntax--leading syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--support syntax--function syntax--C99 syntax--c"><span>exit</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>set_exception</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>myQuit</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;"> 文件输入 / 输出</span></h1>
<h2><span style="color:#ff8000;">类继承关系</span></h2>
<ul>
<li>
<p>streambuf类为缓冲区提供了内存，并提供了用于填充缓冲区 / 访问缓冲区内容/ 刷新缓冲区 / 管理缓冲区内存的类方法</p>
</li>
<li>
<p>ios_base类表示流的一般特征，如是否可读取，是二进制流还是文本流等</p>
</li>
<li>
<p>ios类基于ios_base类，并包括一个指向streambuf对象的指针成员</p>
</li>
<li>
<p>ostream类派生自ios类，提供输出方法</p>
</li>
<li>
<p>istream类也是派生自ios类，提供输入方法</p>
</li>
<li>
<p>iostream类基于ostream和istream类，因此继承了输入和输出方法</p>
</li>
<li>
<p>wistream / wostream类都是wchar_t的具体化，wcout对象用于输出宽字符流</p>
</li>
<li>
<p>文件使用ifstream / ofstream类，在头文件fstream中定义，派生自iostream类</p>
</li>
<li>
<p>fstream类用于同步文件I/O</p>
</li>
<li>
<p>字符串流ostringstream派生自ostream类，istringstream派生自istream类，在头文件sstream中定义</p>
</li>
<li>
<p>cin cout: #include <iostream></iostream></p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>istream&nbsp;outstream</span></span>
</div></pre>
<p>字符串流：#include <sstream></sstream></p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>istringstream&nbsp;ostringstream</span></span>
</div></pre>
<p>文件流：#include <fstream></fstream></p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>ifstream&nbsp;ofstream</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">基本的文件 I/O 操作：</span></h2>
<ul>
<li>创建ofstream对象来管理输出流：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--preprocessor syntax--include syntax--c"><span class="syntax--keyword syntax--control syntax--directive syntax--include syntax--c"><span class="syntax--punctuation syntax--definition syntax--directive syntax--c"><span>#</span></span><span>include</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--other syntax--lt-gt syntax--include syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&lt;</span></span><span>fstream</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&gt;</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ofstream&nbsp;outFile;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;create&nbsp;object&nbsp;for&nbsp;output</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
将对象与特定文件关联：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>outFile.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>open</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>foo</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>associate&nbsp;with&nbsp;a&nbsp;file</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ofstream&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fout2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>foo</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;create&nbsp;&amp;&nbsp;associate</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
使用iostream方法来使用该对象，ostream是ofstream的基类，因此可以使用所有ostream类方法<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>fout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>bar</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
对象过期时，会自动关闭文件连接，也可以显示关闭<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>outFile.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>close</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>ifstream读文件：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>ifstream&nbsp;fin;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>open</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>foo</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;ch;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;ch;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;str;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>getline</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>str,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>80</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>close</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>fstream用于读写：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>ftream&nbsp;finout;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>finout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>open</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>foo</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;ios_base::in&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>|</span></span><span>&nbsp;ios_base::out</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">流状态检查</span></h2>
<ul>
<li>打开一个不存在的文件，将设置failbit位</li>
<li>检查open是否成功：<pre class="editor-colors lang-text"><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>fin.open(&quot;foo&quot;);</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>if&nbsp;(fin.fail())&nbsp;{&nbsp;...&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;open&nbsp;attempt&nbsp;failed</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>if&nbsp;(!fin.good())&nbsp;{&nbsp;...&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;open&nbsp;attempt&nbsp;failed</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>if&nbsp;(!fin)&nbsp;{&nbsp;...&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;open&nbsp;attempt&nbsp;failed</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>if&nbsp;(!fin.is_open())&nbsp;{&nbsp;...&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;open&nbsp;attempt&nbsp;failed</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>is_open()方法能够检测以不合适的文件模式打开文件等错误</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">文件模式</span></h2>
<ul>
<li>openmode 描述读 / 写 / 追加等文件使用方式，bitmask类型<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;打开文件用于读取</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::out&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;打开文件用于写入</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::ate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;打开文件，并将文件指针移到文件末尾</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::app&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;追加方式打开文件，值允许在文件末尾添加内容</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::trunc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果文件存在，则截短文件，即删除文件原有内容</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ios_base::binary&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;二进制文件</span></span>
</div></pre>
</li>
<li>ifstream.open() 默认使用ios_base::in</li>
<li>ofstream.open() 默认使用ios_base::out | ios_base::trunc  :=(</li>
</ul>
<h2><span style="color:#ff8000;">read / write</span></h2>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>struct</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>planet</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;name[</span><span class="syntax--constant syntax--numeric syntax--c"><span>20</span></span><span>];</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;population;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;g;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>...</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>planet&nbsp;pl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ofstream&nbsp;fout;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>open</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>foo</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;ios_base::out&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>|</span></span><span>&nbsp;ios_base::app&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>|</span></span><span>&nbsp;ios_base::binary</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fout.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>write</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>pl,&nbsp;</span><span class="syntax--keyword syntax--operator syntax--sizeof syntax--c"><span>sizeof</span></span><span>&nbsp;pl</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>...</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ifstream&nbsp;fin;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>open</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>foo</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;ios_base::in&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>|</span></span><span>&nbsp;ios_base::binary</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>read</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>pl,&nbsp;</span><span class="syntax--keyword syntax--operator syntax--sizeof syntax--c"><span>sizeof</span></span><span>&nbsp;pl</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
<h2><span style="color:#ff8000;">随机存储 seekg / seekp / tellg / tellp</span></h2>
<ul>
<li>seekg() 用于输入指针</li>
<li>seekp() 用于输出指针</li>
<li>seekg() 原型：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>basic_stream</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;T,&nbsp;traits</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>seekg</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>off_type,&nbsp;ios_base::seekdir</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>basic_stream</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;T,&nbsp;traits</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>seekg</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pos_type</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>对于char类型，等同于</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>istream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>seekg</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>streamoff,&nbsp;ios_base::seekdir</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>istream&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>seekg</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>streampos</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>seekg()使用：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>seekg</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>30</span></span><span>,&nbsp;ios_base::beg</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;30&nbsp;bytes&nbsp;beyond&nbsp;the&nbsp;beginning</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>seekg</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>,&nbsp;ios_base::cur</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;backup&nbsp;one&nbsp;bytes</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>seekg</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>,&nbsp;ios_base::end</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;go&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;file</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>fin.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>seekg</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>112</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;112&nbsp;bytes&nbsp;beyond&nbsp;the&nbsp;beginning</span></span></span>
</div></pre>
</li>
<li>tellg() / tellp()<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>tellg</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;返回输入流文件指针当前位置</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>tellp</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;返回输出流文件指针当前位置</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>对于fstream对象，两个指针相同</span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">类模板</span></h1>
<h2><span style="color:#ff8000;">声明</span></h2>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;or&nbsp;olde&nbsp;version:&nbsp;template&nbsp;&lt;class&nbsp;Type&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Stack</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>enum</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;MAX&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type&nbsp;item[MAX];</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;top;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Stack</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>isempty</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>push</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;item</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stack</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>::Stack</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;top&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;Stack</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>::isempty</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;top&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;Stack</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>::push</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;item</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
<ul>
<li>每个模板成员函数都使用相同的模板声明打头，并使用泛型名Type替代类中使用的类型名，类限定名改为Stack<type></type></li>
<li>模板不是类的成员，只是C++的编译指令，说明如何生成类和函数定义，因此不能将模板函数实现放在独立的实现文件中</li>
<li>模板函数不能单独编译，必须与特定的模板实例化请求一起使用</li>
<li>模板常用作容器类</li>
<li>必须显示地提供所需的类型，这与函数模板是不同的：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>Stack</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>std::string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;st;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Stack</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;stc;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">非类型参数 （表达式参数）</span></h2>
<ul>
<li>
<p>template &lt;class T, int n&gt;         // int n称为表达式参数</p>
</li>
<li>
<p>class StackTP { … };</p>
</li>
<li>
<p>StackTP&lt;double, 12&gt; stp;</p>
</li>
<li>
<p>表达式参数可以是整型，枚举，指针或引用，因此不能使用 double m, 但可以使用 double * pm 或 double &amp; rm</p>
</li>
<li>
<p>实例化模板时，表达式参数必须是常量表达式</p>
</li>
<li>
<p>每种表达式参数的不同值都将生成自己的模板：</p>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>StackTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>12</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;stp12;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>StackTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>13</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;stp13;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>将生成两个独立的类声明</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">模板的多功能性</span></h2>
<h3><span style="color:#00ff00;">模板用作基类或其他模板的类型参数</span></h3>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>ArrayTP</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>GrowArrayTP</span></span><span>&nbsp;:&nbsp;ArrayTP</span><span class="syntax--meta syntax--angle-brackets syntax--cpp"><span>&lt;</span><span>Type</span><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>StackTP</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>Private:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ArrayTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>Type</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;ap;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ArrayTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;StackTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;asi;</span></span>
</div></pre>
<h3><span style="color:#00ff00;">递归调用</span></h3>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>StackTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;StackTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;stp_squ;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>相当于二维数组：&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;stp_squ[</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>][</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>];</span></span>
</div></pre>
<h3><span style="color:#00ff00;">多个模板参数</span></h3>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T1,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T2</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>PairTP</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T1&nbsp;a;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T2&nbsp;b;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>first</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>second</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T1&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>first</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T2&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>second</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>PairTP</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;aval,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>bval</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>a</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>aval</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>b</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>bval</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>PairTP</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T1,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T2</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>T1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;PairTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>T1,&nbsp;T2</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;::&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>first</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;a;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T1,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T2</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>T2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;PairTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>T1,&nbsp;T2</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;::&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>second</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;b;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>main</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PairTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;rating[</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PairTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>hello</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PairTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>aloha</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PairTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>hola</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;joins&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--sizeof syntax--c"><span>sizeof</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>rating</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--sizeof syntax--c"><span>sizeof</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>PairTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
<h3><span style="color:#00ff00;">默认类型模板参数</span></h3>
<ul>
<li>为类型参数提供默认值<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T1,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Topo</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
类似的也可以为非类型参数提供默认值</li>
</ul>
<h2><span style="color:#ff8000;">模板的具体化</span></h2>
<ul>
<li>如果有多个模板可以选择，编译器将选择具体化程度最高的版本</li>
</ul>
<h3><span style="color:#00ff00;">隐式实例化</span></h3>
<ul>
<li>最常用 StackTP&lt;double, 12&gt; stp;</li>
<li>编译器在需要对象之前不会生成类的隐式实例化声明</li>
</ul>
<h3><span style="color:#00ff00;">显示实例化</span></h3>
<ul>
<li>template class StackTP&lt;string, 100&gt;;</li>
<li>在需要对象之前，编译器根据模板生成类的声明</li>
</ul>
<h3><span style="color:#00ff00;">显示具体化</span></h3>
<ul>
<li>template&lt;&gt; class StackTP&lt;const char * , 100&gt; { … }</li>
<li>对于特定类型的定义，不使用模板生成，如定义对于char * 类型的参数使用strcmp进行比较</li>
</ul>
<h3><span style="color:#00ff00;">部分具体化</span></h3>
<pre class="editor-colors lang-text"><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>-&nbsp;对于&nbsp;template&nbsp;&lt;typename&nbsp;T1,&nbsp;typename&nbsp;T2&gt;&nbsp;class&nbsp;PairTP&nbsp;{&nbsp;...&nbsp;};</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>-&nbsp;声明&nbsp;template&lt;T1&gt;&nbsp;class&nbsp;PairTP&lt;T1,&nbsp;int&gt;&nbsp;{&nbsp;...&nbsp;}；</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>-&nbsp;也可以提供指针特殊版本部分具体化现有模板：</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span>&nbsp;&nbsp;</span><span class="syntax--meta syntax--paragraph syntax--text"><span>```c++</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>&nbsp;&nbsp;template&nbsp;&lt;typename&nbsp;T&gt;&nbsp;class&nbsp;Stack&nbsp;{&nbsp;...&nbsp;};</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>&nbsp;&nbsp;template&nbsp;&lt;typename&nbsp;T*&gt;&nbsp;class&nbsp;Stack&nbsp;{&nbsp;...&nbsp;};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>&nbsp;&nbsp;```</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>-&nbsp;其他应用：</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span>&nbsp;&nbsp;</span><span class="syntax--meta syntax--paragraph syntax--text"><span>```c++</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>&nbsp;&nbsp;template&nbsp;&lt;class&nbsp;T1,&nbsp;class&nbsp;T2,&nbsp;class&nbsp;T3&gt;&nbsp;class&nbsp;Trino&nbsp;{&nbsp;...&nbsp;};</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>&nbsp;&nbsp;template&nbsp;&lt;class&nbsp;T1,&nbsp;class&nbsp;T2&gt;&nbsp;class&nbsp;Trino&lt;T1,&nbsp;T2,&nbsp;T2&gt;&nbsp;{&nbsp;...&nbsp;};</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>&nbsp;&nbsp;template&nbsp;&lt;class&nbsp;T1&gt;&nbsp;class&nbsp;Trino&lt;T1,&nbsp;T1*,&nbsp;T1*&gt;&nbsp;{&nbsp;...&nbsp;};</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>&nbsp;&nbsp;```</span></span></span>
</div></pre>
<h2><span style="color:#ff8000;">成员模板</span></h2>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>beta</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;V</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>hold</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;priavte:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;val;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>hold</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span>V&nbsp;v&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>val</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>V</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>value</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;val;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hold</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;q;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;template&nbsp;object</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hold</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;n;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;template&nbsp;object</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>beta</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span>T&nbsp;t,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>q</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>t</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>n</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>i</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;U</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;U&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>blab</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>U&nbsp;u,&nbsp;T&nbsp;t</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>n</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>value</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;q</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>value</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;u&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;t;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>main</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beta</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>guys</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>3.5</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;guys</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>blab</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2.3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;std::endl;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;return&nbsp;int&nbsp;vale</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;guys</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>blab</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10.0</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2.3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;std::endl;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;return&nbsp;double&nbsp;value</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
<ul>
<li>也可以在beta模板中声明 hold 类和 blab 方法，并在beta模板外面定义它们：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>beta</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;V</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>hold</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hold</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;q;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hold</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;n;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>beta</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span>T&nbsp;t,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>q</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>t</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>n</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>i</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;U</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;U&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>blab</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>U&nbsp;u,&nbsp;T&nbsp;t</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span>};</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;member&nbsp;definition</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span>&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;V</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;NOT&nbsp;equaling&nbsp;template&nbsp;&lt;typename&nbsp;T,&nbsp;typename&nbsp;V&gt;</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>beta</span></span><span class="syntax--meta syntax--angle-brackets syntax--cpp"><span>&lt;</span><span>T</span><span>&gt;</span></span><span>&nbsp;::&nbsp;hold&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span>&nbsp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span>&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;U</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;U&nbsp;beta</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;::&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>blab</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>U&nbsp;u,&nbsp;T&nbsp;t</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">模板类型用作模板参数</span></h2>
<ul>
<li>将模板类型用作模板参数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Thing</span></span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Crab</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>假设如下声明&nbsp;Crab</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>King</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;legs;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>为使该声明有效，模板参数King必须是一个模板类，其声明与模板参数Thing匹配：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>King</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>示例：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Thing</span></span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Crab</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thing</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;s1;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thing</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;s2;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>main</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Crab</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>Stack</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;nebula;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>混合使用：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Thing</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;U,&nbsp;Typename&nbsp;V</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Crab2</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thing</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>U</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;s1;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thing</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>V</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;s2;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">模板类和友元</span></h2>
<h3><span style="color:#00ff00;">非模板友元</span></h3>
<ul>
<li>在模板类中将一个常规函数声明为友元：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>HasFriend</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>counts</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>report</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>HasFriend</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>report()本身并不是模板函数，只是使用一个模板作参数，因此必须为要使用的模板定义显示具体化：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>report</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>HasFriend</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;hs</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>report</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>HasFriend</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;hs</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">约束模板友元</span></h3>
<ul>
<li>友元的类型取决于类被实例化时的类型，使类的每一个具体化都获得与友元匹配的具体化</li>
<li>类外声明模板的具体化</li>
<li>首先在类的前面声明两个模板函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>counts</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>report</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
在类声明中声明为友元：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>tempalte&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;TT</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>HasFriend</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;counts</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>TT</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;report</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>HasFriend</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>TT</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>对于</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>report</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>，也可以使用friend&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;report</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;HasFriend</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>TT</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>HasFriend</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>TT</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;&nbsp;因为可以从函数参数推断出模板类型，因此</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span><span>&gt;</span></span><span>中类型可省</span></span>
</div></pre>
为友元提供模板定义：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>counts</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>report</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;hf</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;hf</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>item</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">非约束模板友元</span></h3>
<ul>
<li>类内部声明模板，创建非约束类友元函数，即友元模板类型参数与类模板类型参数是不同的：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>ManyFriends</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;C,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;D</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>friend</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>C&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>,&nbsp;D&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">模板别名</span></h2>
<ul>
<li>typedef：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>typedef</span></span><span>&nbsp;std::array</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>12</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;arrayd;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>arrayd&nbsp;ad;</span></span>
</div></pre>
</li>
<li>using：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;arrayd&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;std::array</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>12</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>;</span></span>
</div></pre>
</li>
<li>使用模板提供一系列别名(模板部分具体化)：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>using</span></span><span>&nbsp;arrtype&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;std::array</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>T,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>12</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;template&nbsp;to&nbsp;create&nbsp;multiple&nbsp;aliases.</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>arrtype</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;hour;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>arrtype</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>std::string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;months;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">模板中的嵌套类</span></h2>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;Item</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>QueueTP</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Node</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;item;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Node&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;next;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Node</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;Item&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;i</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>item</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>i</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>next</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--variable syntax--language syntax--cpp"><span>nullptr</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Node&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;front;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Node&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;rear;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>类外使用Node:&nbsp;QUeueTP</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>::Node&nbsp;node;</span></span>
</div></pre>
<hr>
<h1><span style="color:#ff0000;">运行阶段类识别RTTI (Runtime Type Identification)</span></h1>
<ul>
<li>运行阶段判断对象类型，如调用某些派生类的特定方法</li>
<li>只能将RTTI用于包含虚函数的类层次结构，只有对于这种类层次结构，才应该将派生对象的地址赋给基类指针</li>
</ul>
<h2><span style="color:#ff8000;">dynamic_cast运算符</span></h2>
<ul>
<li>用于判断是否可以安全的将对象的地址赋给特定类型的指针（派生类赋给基类）<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--cast syntax--cpp"><span>dynamic_cast</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pt</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div></pre>
如果可以安全转换，返回对象地址，否则返回空指针</li>
<li>通常，如果pt类型是Type或是Type直接或间接派生来的，则可以安全转换<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Grand</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>speak</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Super</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Grand</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>speak</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>say</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Magnigicent</span></span><span>&nbsp;:&nbsp;</span><span class="syntax--storage syntax--type syntax--modifier syntax--cpp"><span>public</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--inherited syntax--cpp"><span>Super</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>speak</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>virtual</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>say</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pg&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>get_one_random</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;return&nbsp;any&nbsp;type&nbsp;among&nbsp;Grand&nbsp;/&nbsp;Super&nbsp;/&nbsp;Magnificent</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pg.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>speak</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;always&nbsp;works</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ps&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--cast syntax--cpp"><span>dynamic_cast</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;Super&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pg</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;judg&nbsp;if&nbsp;pg&nbsp;is&nbsp;Super&nbsp;/&nbsp;Magnificent</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ps.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>say</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
<br>
</li>
<li>用于引用时，由于没有与空指针对应的引用值，将抛出bad_cast异常（头文件typeinfo）：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--cpp"><span>try</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;pr&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--cast syntax--cpp"><span>dynamic_cast</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>Type&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pt</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>catch</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>&nbsp;bad_cast&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>bc&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">typeid运算符和type_info类</span></h2>
<ul>
<li>typeid运算符用于判断两个对象是否为同种类型，返回一个type_info对象的引用<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--operator syntax--cpp"><span>typeid</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Magnificent</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--cpp"><span>typeid</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;pg&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如果pg是空指针，将引起bad_typeid异常（头文件typeinfo）</span></span>
</div></pre>
</li>
<li>type_info结构存储了有关特定类型的信息，重载了 == 和 != 运算符用于类型比较</li>
<li>type_info类包含一个name()成员，返回一个因实现而异的字符串，通常为类名称<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Now&nbsp;processing&nbsp;type:&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--cpp"><span>typeid</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;pg</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>name</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
<li>使用typeid()只能显示的判断某一种类型，对于派生类应考虑尽量使用dynamic_cast用于判断</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">智能指针模板类</span></h1>
<ul>
<li>类似于指针的类对象，帮助管理动态内存分配（头文件memory）</li>
<li>三个智能指针模板 auto_ptr / unique_ptr / shared_ptr 都定义了类似指针的对象，可以将new获得的地址赋给这种对象（auto_ptr在c++11已摒弃）</li>
<li>当智能指针过期时，其析构函数将使用delete来释放内存，因此无须记住稍候手动来释放</li>
<li>智能指针在很多方面类似常规指针：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>使用解除引用运算符</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>ps</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>访问成员方法ps</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>赋给指向相同类型的常规指针</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>赋给另一个同类型的智能指针对象</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">创建</span></h2>
<ul>
<li>构造函数类似：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>X</span></span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>auto_ptr</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicite&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>auto_ptr</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>X</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div></pre>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>unique_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pdu</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>shared_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pds</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;string</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>shared_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;animal[</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>shared_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;string</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Fox</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;shared_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;string</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Wolf</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>unique_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;[]</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pda</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>[</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>]</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;ONLY&nbsp;allowed&nbsp;for&nbsp;unique_ptr,&nbsp;which&nbsp;has&nbsp;a&nbsp;reloaded&nbsp;version&nbsp;using&nbsp;new[]&nbsp;/&nbsp;delete[]</span></span></span>
</div></pre>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>shared_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;pd;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pd&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;NOT&nbsp;allowed&nbsp;(implicit&nbsp;conversion)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pd&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;shared_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>p</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;allowed</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>shared_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pshared</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>p</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;allowed</span></span></span>
</div></pre>
</li>
<li>应避免用于非堆内存：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>vacation</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>I&nbsp;wandered&nbsp;lonely&nbsp;as&nbsp;a&nbsp;cloud.</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>shared_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pvac</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>vacation</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;NOT&nbsp;allowed&nbsp;[&nbsp;???&nbsp;]</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pvac&nbsp;过期时将把delete运算符用于非堆内存</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>应使用：shared_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pvac2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>string</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>I&nbsp;wandered&nbsp;lonely&nbsp;as&nbsp;a&nbsp;cloud.</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">智能指针类的赋值运算</span></h2>
<ul>
<li>如果不做特殊处理，指向同一个对象的两个智能指针在过期时将删除同一个对象两次，这是不能接受的</li>
<li>解决方法：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>建立所有权</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ownership</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>概念，只有一个智能指针可以拥有它，拥有所有权才可以删除对象，赋值操作将转移所有权</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unique_ptr&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;auto_ptr采用该策略</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>使用引用计数</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>reference&nbsp;counting</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>跟踪智能指针数，赋值时技术加1，指针过期时计数减1，计数为0时才调用delete</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shared_ptr采用该策略</span></span>
</div></pre>
</li>
<li>auto_ptr:<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>auto_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pa1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>string</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>auto</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>auto_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;pa2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;pa1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;allowed</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pa1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;will&nbsp;trigger&nbsp;core&nbsp;dump!</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>调用转移所有权后的auto_ptr指针将引起运行时错误</span></span>
</div></pre>
</li>
<li>unique_ptr:<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>unique_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pu1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>string</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>auto</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>unique_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>pu2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;pu1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;NOT&nbsp;allowed</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>unique_ptr指针只允许存在一份，赋值操作将引起编译时错误，因此比auto_ptr更安全</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如果unique_ptr的赋值操作右值是一个临时变量，将允许这种操作：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unique_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>pu3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;unique_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>string</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>unique</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unique_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>demo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cahr&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>s</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;unique_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>temp</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>string</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>s</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;temp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unique_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;pu4&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>demo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>unique</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>还可以使用</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::move</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>将一个unique_ptr指针赋给另一个：</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unique_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;ps1,&nbsp;ps2;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ps1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>demo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>unique1</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ps2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>move</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ps1</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;[&nbsp;???&nbsp;How&nbsp;about&nbsp;ps1&nbsp;now?&nbsp;]</span></span></span>
</div></pre>
</li>
<li>shared_ptr:<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>shared_ptr用于需要多个指针指向同一个对象的情况，如指针数组中标示最大</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>最小元素</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>shared_ptr包含一个构造函数，可以将右值unique_ptr转换为shared_ptr，但需要满足unique_ptr的赋值条件：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unique_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pu5</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--control syntax--cpp"><span>new</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>string</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>unique</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shared_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>spp1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pu5</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;NOT&nbsp;allowed</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shared_ptr</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;spp2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>demo</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>shared</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;allowed</span></span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">标准模板库STL (Standard Template Library)</span></h1>
<ul>
<li>提供一组表示容器 / 迭代器 / 函数对象 / 算法的模板</li>
<li>是一种泛型编程(generic programming)模式，而不是面向对象编程   :=(</li>
</ul>
<h2><span style="color:#ff8000;">模板类vector (用于示例容器类)</span></h2>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>elem</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;string&nbsp;name;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;rating;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>elem</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;books;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>elem</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>books_backup</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>books</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;copy&nbsp;a&nbsp;new&nbsp;vetor</span></span></span>
</div></pre>
<h2><span style="color:#ff8000;">内存管理 Allocator</span></h2>
<ul>
<li>各种STL容器模板都可以接受一个可选参数，指定使用哪个分配器对象来管理内存：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>T</span></span><span>,&nbsp;Allocator&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;allocate</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>vector</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;...&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>默认使用allocate</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>类，使用new&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>delete</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">STL算法</span></h2>
<ul>
<li>对算法进行分类的方式之一是按结果放置的位置，有些就地完成，有些创建拷贝</li>
<li>有些算法有两个版本，STL的约定是，复制版本的名称以 _copy 结尾  __</li>
<li>有些算法根据将函数应用于容器元素得到的结果来执行操作，通常以 _if 结尾  __</li>
</ul>
<h2><span style="color:#ff8000;">算法组</span></h2>
<ul>
<li>非修改式序列操作：头文件algorithm，操作不修改容器内容，如find() / for_each()</li>
<li>修改式序列操作：头文件algorithm，transform() / random_shuffle() / copy()</li>
<li>排序和相关操作：头文件algorithm，sort()等</li>
<li>通用数字操作：头文件numric，通常都是数组的操作特性</li>
</ul>
<h2><span style="color:#ff8000;">STL容器基本方法</span></h2>
<ul>
<li>除了分配空间外，所有的STL容器都提供了一些基本方法：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>size</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;返回容器中元素数目</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>swap</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;交换两个容器内容</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;返回指向容器中第一个元素的迭代器</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;返回一个表示超过容器尾的迭代器</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>cbegin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>cend</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;begin()&nbsp;/&nbsp;end()&nbsp;的const版本</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">迭代器</span></h2>
<ul>
<li>一个广义上的指针，可以进行解引用 * / 递增(++)等操作</li>
<li>最好避免直接使用迭代器，而应尽可能使用STL函数，如for_each()或基于范围的for循环</li>
<li>为不同的容器提供统一的接口，每个容器都定义了一个合适的迭代器，是一个名为iterator的typedef<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;::&nbsp;iterator&nbsp;pd;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;scores;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pd&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;scores.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pd&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>1.23</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pd</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span>;</span></span>
</div></pre>
</li>
<li>也可以使用自动类型判断：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>auto</span></span><span>&nbsp;pda&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;scores.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>遍历容器：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pd&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;scores.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;pd&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;scores.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;pd</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pd&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>br&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>[]方法：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;i&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;scores.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>size</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;i</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;scores[i]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">初始化列表 initializer_list模板类</span></h2>
<ul>
<li>成员函数begin() / end() 用于获得列表范围</li>
<li>容器类包含将initializer_list<t>作为参数的构造函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>std::vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;vi&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>,&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>等价于显示的将列表指定为构造函数参数</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>std::vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>vi</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>,&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</t></li>
<li>使用示例：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>average</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;std::initializer_list</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;ril</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;sum&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>auto</span></span><span>&nbsp;p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;ril</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;ril</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;p</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--compound syntax--c"><span>+=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;p;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;ave&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0.0</span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ril</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>size</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ave&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;sum&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;ril</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span></span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>size</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;ave;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>average</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>average</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>vi</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">STL特殊方法 push_back / erase / insert</span></h2>
<ul>
<li>只有某些STL容器类才有的方法</li>
<li>push_back() 将元素添加到矢量末尾<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;scores;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;temp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>while</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cin&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;temp&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span>&nbsp;temp&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scores.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>push_back</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>size:&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;scores.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>size</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
<li>erase() 删除指定区间的元素，接受两个迭代器参数<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>scores.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>erase</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>scores.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;scores.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;删除弟0，1个元素，删除区间表示[p1,p2)</span></span></span>
</div></pre>
</li>
<li>insert() 接受三个迭代器参数，第一个指定新元素插入位置，第二个和第三个参数指定区间，通常是另一个容器对象的一部分<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>old_v.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>insert</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>old_v.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;new_v.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>1</span></span><span>,&nbsp;new_v.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;将new_v中除第一个元素插入到old_v第一个元素前面</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">非成员函数 for_each / random_shuffle / sort / copy / transform</span></h2>
<ul>
<li>对于搜索 / 排序等算法定义的通用算法，使之可以适用于不同的容器类</li>
<li>即使有非成员函数，STL有时也会定义一个相同功能的成员函数，因为特定算法比通用算法效率高，如vector类的swap()效率比非成员函数swap()高</li>
<li>非成员函数允许交换两个不同类型容器的内容</li>
</ul>
<h3><span style="color:#00ff00;">for_each()</span></h3>
<ul>
<li>接受3个参数，前两个指定容器中区间的迭代器，最后一个是指向函数的指针或函数对象</li>
<li>for_each()函数将被指向的函数用于容器区间中的各个元素</li>
<li>被指向的函数不能修改容器元素的值<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>ImputIterator</span></span><span>,&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Function</span></span></span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Function&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>for_each</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>InputIterator&nbsp;first,&nbsp;InputIterator&nbsp;second,&nbsp;Function&nbsp;f</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>可用于替代for循环：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>elem</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>elem</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;newbooks;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>elem</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;::&nbsp;iterator&nbsp;pr;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pr&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;newbooks.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;pr&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;newbooks.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;pr&nbsp;</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>pr</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>替换为：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>for_each</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>newbooks.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;newbooks.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;show</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
还可以使用基于范围的for循环：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>auto</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>x&nbsp;:&nbsp;newbooks</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>show</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
使用for循环时可以修改元素的值</li>
</ul>
<h3><span style="color:#00ff00;">random_shuffle()</span></h3>
<ul>
<li>接受两个指定区间的迭代器参数，并随机排列其中的元素</li>
<li>要求容器类允许随机访问，如vector类</li>
</ul>
<h3><span style="color:#00ff00;">sort()</span></h3>
<ul>
<li>可以接受两个指定区间的迭代器参数，并使用为存储在容器中的类型元素定义的 &lt; 运算符，对区间中的元素进行升序排列<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;rating;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sort</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>rating.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;rating.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>如果容器元素是自定义的类型，则需要定义能够处理该类型的operator&lt;()运算符<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;elem::oeprator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;elem&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;e1,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;elem&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;e2</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sort</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>newbooks.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;newbooks.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>如果要按降序或其他排列顺序进行排序，可以传递第三个参数，一个指向用于排序函数的指针，该函数返回值可以转换为bool，false表示顺序不正确<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>worsethan</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;elem&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;e1,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;elem&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;e2</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sort</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>newbooks.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;newbooks.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;worsethan</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">copy()</span></h3>
<ul>
<li>三个参数，前两个迭代器参数表示要复制的范围，第三个迭代器参数表示复制到目标容器的位置</li>
<li>copy()函数将覆盖目标容器中已有的内容</li>
<li>目标容器可写，并要求有足够大的空间，copy()不能自动根据发送值调整目标容器的长度</li>
</ul>
<h3><span style="color:#00ff00;">transform()</span></h3>
<ul>
<li>可以接受四个参数，前两个指定容器的迭代器参数，第三个指定结果复制到哪里的迭代器，最后一个函数符，用于区间中每个元素：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;MAX&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>8</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;arrd[MAX]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>gr8</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>srrd,&nbsp;srrd&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;MAX</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ostream_iterator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>out</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cout,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;一个输出迭代器，指定使用char输出double值到屏幕，每个值用&quot;&nbsp;&quot;分隔</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>transform</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>gr8.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;gr8.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;out,&nbsp;sqrt</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;计算每个元素平方根，并输出到屏幕</span></span></span>
</div></pre>
也可以接受五个参数，第三个迭代器参数指定另一个容器的起始位置，第五个参数接受两个参数的函数符：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>add</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;x,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;y</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;y;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>m8</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>MAX</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>transform</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>gr8.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;gr8.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;m8.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;out,&nbsp;add</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;计算gr8与m8两个容器中元素的和，输出到cout</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">STL算法用于常规数组</span></h2>
<ul>
<li>迭代器是广义的指针，而指针是迭代器，因此STL算法可以使用指针来对基于指针的非STL容器进行操作：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;SIZE&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;da[SIZE];</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sort</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>da,&nbsp;da&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;SIZE</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;第二个参数指向最后一个元素后面的地址</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;cast[</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>6</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>7</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>dice</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>copy</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cast,&nbsp;cast&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>,&nbsp;dice.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>只要定义适当的迭代器，超尾元素指示等，STL算法也可以用于自定义的数据形式</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">泛型编程 (迭代器 / 容器)</span></h1>
<ul>
<li>面向对象关注的是编程的数据方面，而泛型编程关注的是算法方面，旨在编写独立于数据类型的代码</li>
<li>模板使算法独立于存储的数据类型，迭代器使算法独立于使用的容器类型</li>
<li>应尽可能用通用术语表达算法，并基于算法要求，设计基本迭代器特征与容器特征</li>
</ul>
<h2><span style="color:#ff8000;">迭代器实现</span></h2>
<ul>
<li>泛型编程旨在实现使用相同的接口处理不同的容器类型，因此需要迭代器这样的通用表示，来遍历容器中的值</li>
<li>对于查找find()功能迭代器基本要求：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>应能够对迭代器进行解引用操作</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>p</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>应能够将迭代器赋给另一个&nbsp;p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;q</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>应能够将两个迭代器进行比较，检查是否相等&nbsp;p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;q&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;p</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;q</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>应能够遍历容器中所有元素</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span>p&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;p</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span></span>
</div></pre>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>struct</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Node</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;item;&nbsp;Node&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;p_next;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Iterator</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Node&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;pt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Iterator</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pt</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>Iterator</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span>Node&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;p</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pt</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>p</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;pt</span><span class="syntax--punctuation syntax--separator syntax--pointer-access syntax--c"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>item</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;pt&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;pt</span><span class="syntax--punctuation syntax--separator syntax--pointer-access syntax--c"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>p_next</span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;for&nbsp;++it</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;for&nbsp;it++,&nbsp;parameter&nbsp;int&nbsp;is&nbsp;for&nbsp;no&nbsp;use.&nbsp;return&nbsp;a&nbsp;temp&nbsp;var,&nbsp;it&nbsp;cannot&nbsp;be&nbsp;reference</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator&nbsp;temp&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--variable syntax--language syntax--this syntax--cpp"><span>this</span></span><span>;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pt&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;pt</span><span class="syntax--punctuation syntax--separator syntax--pointer-access syntax--c"><span>-&gt;</span></span><span class="syntax--variable syntax--other syntax--member syntax--c"><span>p_next</span></span><span>;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;temp;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;...&nbsp;operator&nbsp;=();&nbsp;operator&nbsp;==();&nbsp;operator&nbsp;!=();&nbsp;etc</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Iterator&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Iterator&nbsp;begin，&nbsp;Iterator&nbsp;end,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>val</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>auto</span></span><span>&nbsp;ar&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;begin;&nbsp;ar&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;end;&nbsp;ar</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>ar&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;val</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;ar;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;end;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
<li>对于随机访问功能，需要定义 + 操作，实现 P+10这样的表达</li>
</ul>
<h2><span style="color:#ff8000;">迭代器类型</span></h2>
<ul>
<li>STL定义了5种迭代器概念：输入迭代器 / 输出迭代器 / 正向迭代器 / 双向迭代器 / 随机访问迭代器</li>
<li>尽可能使用要求最低的迭代器</li>
<li>迭代器类型只是概念上的定义，有时使用[改进]来表示概念上的继承关系，使用[模型]来表示概念的具体实现</li>
<li>对于find()只需要读取数据，可使用输入迭代器：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>InputIterator</span></span><span>,&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>T</span></span></span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ImputIterator&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>InputIterator&nbsp;first,&nbsp;InputIterator&nbsp;last,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;val</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
对于sort()需要读写数据，并能随机访问，使用随机访问迭代器：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>RandomIterator</span></span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sort</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>RandomIteratorfirst,&nbsp;RandomIteratorlast</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">输入迭代器</span></h3>
<ul>
<li>输入是相对于程序说的，即来自容器的信息被视为输入</li>
<li>输入迭代器可以访问容器中所有值(++运算符)，但不一定能让程序修改值</li>
<li>是单向迭代器，可以递增，但不能递减</li>
</ul>
<h3><span style="color:#00ff00;">输出迭代器</span></h3>
<ul>
<li>输出指将信息从程序传输给容器</li>
<li>只写，不能保证可读</li>
<li>单向迭代器</li>
</ul>
<h3><span style="color:#00ff00;">正向迭代器</span></h3>
<ul>
<li>只使用++算法</li>
<li>与输入 / 输出迭代器不同的是，正向迭代器总是按相同的顺序遍历，将正向迭代器递增后，仍可对前面的迭代器解引用操作，并得到相同的值</li>
<li>可读写，也可以使用const限定为只读</li>
</ul>
<h3><span style="color:#00ff00;">双向迭代器</span></h3>
<ul>
<li>支持前缀和后缀递减运算符(–)</li>
</ul>
<h3><span style="color:#00ff00;">随机访问迭代器</span></h3>
<ul>
<li>实现 + / - / += / -= / [] / &lt; / &gt; / &lt;= / &gt;=等操作</li>
<li>a, b为随机访问迭代器变量，n为整数，则可以：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>a&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;a&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;a&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span>&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;a[n]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;b&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span>&nbsp;a&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;a&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;b</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">STL提供的迭代器模型</span></h2>
<ul>
<li>STL预定义迭代器提高了算法的通用性，如对于copy()算法，使用这些迭代器将不仅可以将信息从一个容器赋值到另一个容器，还可以：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>将信息从容器赋值到输出流&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ostream_iterator</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>将信息从输入流复制到容器&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>istream_iterator</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>将信息插入到另一个容器&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>insert_iterator</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">ostream_iterator</span></h3>
<ul>
<li>一个表示输出流的迭代器，它是一个适配器(adapter)，可以将其他接口转化为STL使用的接口</li>
<li>通过以下声明来创建这种迭代器：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--preprocessor syntax--include syntax--c"><span class="syntax--keyword syntax--control syntax--directive syntax--include syntax--c"><span class="syntax--punctuation syntax--definition syntax--directive syntax--c"><span>#</span></span><span>include</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--other syntax--lt-gt syntax--include syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&lt;</span></span><span>iterator</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&gt;</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ostream_itrerator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>out_iter</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cout,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>out_iter现在是一个接口，可以使用cout来显示信息</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>第一个模板参数</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>指出别发送给输出流的数据类型</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>第二个模板参数</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>指出输出流使用的数据类型&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--cpp"><span>wchar_t</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>构造函数第一个参数</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cout</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>指出要使用的输出流，可以使用文件</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>构造函数第二个字符串参数</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>指出发送给输出流的每个数据项后的分隔符</span></span>
</div></pre>
</li>
<li>使用：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>out_iter</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>15</span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;woks&nbsp;like&nbsp;cout&nbsp;&lt;&lt;&nbsp;15&nbsp;&lt;&lt;&nbsp;&quot;&nbsp;&quot;;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>将15和</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>组成的字符串发送给cout，并为下一次输出做好准备</span></span>
</div></pre>
</li>
<li>将copy()用于迭代器：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>dice</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>copy</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>dice.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;dice.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;out_iter</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;copy&nbsp;vector&nbsp;to&nbsp;output&nbsp;stream</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>这将显示dice整个容器的内容</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>也可以创建匿名的迭代器：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>copy</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>dice.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;dice.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;ostream_iterator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cout,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">istram_iterator</span></h3>
<ul>
<li>一个输入迭代器概念的模型，使istream输入可以作为迭代器接口</li>
<li>定义copy()的输入范围：<pre class="editor-colors lang-text"><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>copy(istream_iterator&lt;int,&nbsp;char&gt;(cin),&nbsp;istream&lt;int,&nbsp;char&gt;(),&nbsp;dice.begin());</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>istream_iterator的两个模板参数指出要读取的数据类型，与输入流使用的字符类型</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>构造函数参数cin表示使用cin管理的输入流</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>省略构造函数参数表示输入失败</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>该copy()操作将从输入流中读取，直到文件结尾&nbsp;\&nbsp;类型不匹配&nbsp;\&nbsp;出现其他输入故障为止</span></span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">反向迭代器 reverse_iterator</span></h3>
<ul>
<li>执行递增操作将导致递减，为了简化对已有函数的使用，实现反向操作</li>
<li>对于vector类<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rbegin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;成员方法返回指向超尾元素的反向迭代器，与</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>方法返回值相同，但类型不同</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rend</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;成员方法返回指向第一个元素的反向迭代器，与</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>方法返回值相同，但类型不同</span></span></span>
</div></pre>
</li>
<li>反向显示内容：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>copy</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>dice.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rbegin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;dece.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rend</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;out_iter</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;display&nbsp;in&nbsp;reverse&nbsp;order</span></span></span>
</div></pre>
</li>
<li>解引用(*)操作的特殊补偿：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>由于dice.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rbegin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>返回超尾元素，因此不能执行解引用操作，同时dice.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rend</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>返回第一个元素位置，不能作为超出范围指示器</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>反向迭代器通过先递减再解除引用解决这个问题，即如果反向迭代器rp指向位置6，则</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>rp将是位置5的值</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>::reverse_iterator&nbsp;ri;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>ri&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;dice.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rbegin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;ri&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;dice.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>rend</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;ri</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>ri&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">插入迭代器 back_insert_iterator / front_insert_iterator / insert_iterator</span></h3>
<ul>
<li>back_insert_iterator 将元素插入到容器尾部，只能用于允许在尾部快速插入的容器 (快速插入指的是一个时间固定的算法)，vector类符合这种要求</li>
<li>front_insert_iterator 将元素插入到容器前端，只能用于允许在起始位置做时间固定插入的容器类型，vector类不符合这种要求，queue类符合</li>
<li>insert_iterator 将元素插入到insert_iterator构造参数指定的位置前面，没有算法的要求，但前两个完成任务更快</li>
<li>声明：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>将容器类型作为迭代器模板参数，实际容器标示符作为构造函数参数：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;dice;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;back_insert_iterator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>back_iter</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>dice</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>back_insert_iterator的构造函数将假设传递给它的类型有一个</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>push_back</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>方法，用于重新调整容器大小</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;::&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>puch_back</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;vector&nbsp;puch_back()&nbsp;method</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>对于insert_iterator还需要一个指示插入位置的构造函数参数：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert_iterator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>insert_iter</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>dice,&nbsp;dice.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>copy()不能自动根据发送值调整目标容器的长度，以下调用假设dice有足够大的空间：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;cast[</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>5</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>6</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>7</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>,&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>dice</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>copy</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cast,&nbsp;cast&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span>,&nbsp;dice.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>三种插入迭代器可以将复制转换为插入，插入将添加新的元素而不会覆盖原有的内容，并使用自动内存分配来确保有足够的空间</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;s1[</span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>copy</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;s2[</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>back_insert</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;s3[</span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&#39;</span></span><span>insert</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>words</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>copy</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>s1,&nbsp;s1</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>4</span></span><span>,&nbsp;words.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;s1</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>copy</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>s2,&nbsp;s2</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;back_insert_iterator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>words</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;s1&nbsp;s2</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>copy</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>s3,&nbsp;s3</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2</span></span><span>,&nbsp;insert_iterator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>words,&nbsp;words.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;s3&nbsp;s1&nbsp;s2</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">容器种类</span></h2>
<ul>
<li>容器类型是用于创建具体容器对象的模板</li>
<li>存储在容器中的类需要是可复制构造的和可赋值的，容器过期时，存储在容器中的数据也将过期</li>
<li>可以用 == 来比较不同类型的容器，因为容器重载的 == 使用迭代器来比较内容，因此如果dqueue与vector对象内容相同，则它们是相等的</li>
<li>X::value_type 通常指出了存储在容器中的值类型</li>
<li>X::key_type 通常指出了键类型</li>
<li>11个容器类型：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>序列（数组</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>链表）：deque&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;list&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;queue&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;priority_queue&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;stack&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;vector</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>关联容器（树数据结构）：map&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;multimap&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;set&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;multiset</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>bitset</span></span>
</div></pre>
c++11新增：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>单向链表（序列）：&nbsp;forward_list</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>无序关联容器（哈希表数据结构）：&nbsp;unordered_map&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;unordered_multimap&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;unordered_set&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;unordered_multiset</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>且不再将bitset视为容器</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">时间复杂度</span></h3>
<ul>
<li>编译时间：操作将在编译时完成，执行时间为0</li>
<li>固定时间：操作发生在运行阶段，但独立于对象中的元素数目</li>
<li>线性时间：执行时间与元素数目成正比</li>
</ul>
<h2><span style="color:#ff8000;">容器类型 （序列）</span></h2>
<ul>
<li>序列是基本容器概念的一种改进(deque / forward_list / list / queue / priority_queue / stack / vector)</li>
<li>序列概念要求迭代器至少是正向迭代器，其元素按严格的线性顺序排列</li>
</ul>
<h3><span style="color:#00ff00;">vector</span></h3>
<ul>
<li>最简单的一种序列模型，是数组的一种表示</li>
<li>提供自动内存管理，提供随机访问( [] / at() )，在尾部添加和删除元素的时间是固定的( push_back() / pop_back() )</li>
<li>在头部或中间插入元素的复杂度为线性时间，没有定义 push_front() / pop_front() 方法</li>
<li>除序列外，vector还是可反转容器概念模型，新增两个类方法 rbegin() / rend()，返回反向迭代器</li>
</ul>
<h3><span style="color:#00ff00;">deque</span></h3>
<ul>
<li>表示双端队列(double-ended queue)，头文件deque</li>
<li>实现类似vector，提供了随机访问</li>
<li>从deque对象的头部插入/删除元素复杂度是固定时间，定义了 push_front() / pop_front() 方法</li>
</ul>
<h3><span style="color:#00ff00;">list</span></h3>
<ul>
<li>表示双向链表，可以双向遍历</li>
<li>list对象在任何位置进行插入 / 删除的时间都是固定的</li>
<li>也是可反转容器，但不支持数组表示法和随机访问，因此不能使用STL非成员方法sort()</li>
<li>链表专用成员函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>merge</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>list</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>T,&nbsp;Alloc</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;将链表x与调用链表合并，两个链表必须已经排序，合并后经过排序的链表保存在调用链表中，x将为空</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>remove</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>val</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;从链表中删除val的所有实例</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>remove_if</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>Function</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;接受一个返回bool值的函数对象，应用于区间中每个元素，返回true则删除</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sort</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;使用&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;运算符对链表进行排序</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>splice</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>iterator&nbsp;pos,&nbsp;list</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>T,&nbsp;Alloc</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;将链表x的内容插入到pos前面，x将为空</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>unique</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;将连续的相同元素压缩为一个元素</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>sort</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>unique</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>merge</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>方法还拥有接受另一个参数的版本，用来指定用于比肩元素的函数</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>remove</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;方法也可以接受另一个参数，用来指定确定是否删除元素的函数</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>remove_if</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>:</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>tooBig</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;n</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;n&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>100</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;scores;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scores.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>remove_if</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>tooBig</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">forward_list</span></h3>
<ul>
<li>单向链表，只需要正向迭代器，不可反转</li>
<li>相比于list，简单紧凑，但功能更少</li>
</ul>
<h3><span style="color:#00ff00;">queue</span></h3>
<ul>
<li>queue模板类是一个适配器类，让底层类(默认为deque类)展示典型的队列接口</li>
<li>不允许随机访问，不允许遍历队列</li>
<li>队列方法：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>empty</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;测试是否为空</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>size_type&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>size</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;检查元素数目</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>front</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;返回队首元素的引用</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>back</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;返回队尾元素的引用</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>push</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;队尾添加元素</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pop</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;队首删除元素，不检索数据</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">priority_queue</span></h3>
<ul>
<li>是另一个适配器类，与queue区别在于，最大的元素被移到队首，默认底层使用vector类</li>
<li>可以提供一个可选的构造函数参数，用于确定哪个元素放到队首的比较方法<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>priority_queue</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;pq1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;default&nbsp;version</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>priority_queue</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pq2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>greater</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;use&nbsp;greater&lt;int&gt;&nbsp;to&nbsp;order</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>greater</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>是一个预定义的函数对象</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">stack</span></h3>
<ul>
<li>与queue类似，也是一个适配器类，提供典型的栈接口，默认使用vector类</li>
<li>压入元素到栈顶，从栈顶弹出元素，查看栈顶值<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>top</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>push</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>pop</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">容器类型 （关联容器）</span></h2>
<ul>
<li>对容器概念的另一个改进，将值与键关联到一起，使用键来查找值</li>
<li>通常是使用某种树实现的，查找速度更快，但不能指定插入位置，因此插入方法insert()只指定要插入的信息，不指定位置</li>
</ul>
<h3><span style="color:#00ff00;">集合 set （头文件set）</span></h3>
<ul>
<li>set 值与键类型相同，键是唯一的，对于set来说，值就是键</li>
<li>multi_set 类似于set，只是可能有多个值的键相同</li>
<li>声明：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>set</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;A;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>set</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string,&nbsp;less</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&gt;&gt;</span></span><span>&nbsp;B;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>第二个模板参数是可选的，指示用来进行排序的函数，默认情况下使用模板less</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span><span>&gt;</span></span></span>
</div></pre>
</li>
<li>使用：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;N&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>6</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>string&nbsp;s1[N]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>for</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>the</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>love</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>for</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>set</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>A</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>s1,&nbsp;s1</span><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>N</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>ostream_iterator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>out</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cout,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>copy</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>set.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;set.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;out</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>键是唯一的，且初始化后集合会被排序</span></span>
</div></pre>
</li>
<li>STL通用函数<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>集合可以有并集&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;交集操作，STL提供了一些通用函数，set对象自动满足使用这些算法的条件，即容器是经过排序的</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>set_union</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>函数获得两个集合的并集，接受五个迭代器参数，前两个定义第一个集合区间，后两个定义第二个集合区间，最后一个是输出迭代器</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>set_union</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>A.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;A.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;B.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;B.end,&nbsp;ostream_iterator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cout,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>如果将输出指定为其他集合C，则不能使用C.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>,因为：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;集合将键视为常量，因此C.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>不能用作输出迭代器</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set_union将覆盖容器中原有数据，要求目标有足够空间</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>因此应使用insert_iterator:</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>set_union</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>A.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;A.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;B.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;B.end,&nbsp;insert_iterator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;set</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>C,&nbsp;C.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>set_intersection</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;获得两个集合的交集</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>set_difference</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;获得两个集合的差</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>lower_bound</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>接受一个迭代器参数，返回一个指向集合中第一个不小于键参数成员的迭代器</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>upper_bound</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>接受一个迭代器参数，返回一个指向集合中第一个大于键参数成员的迭代器</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>可以使用这两个方法返回一个区间：</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>copy</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>C.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>lower_bound</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>gost</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;C.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>upper_bound</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>for</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;ostream_iterator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>string,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>cout,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h3><span style="color:#00ff00;">图 map （头文件map）</span></h3>
<ul>
<li>map 值与键类型不同，键是唯一的</li>
<li>multi_map 类似于map，只是一个键可以与多个值相关联</li>
<li>声明：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>multimap</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;codes;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;键类型为int，存储的值类型为string</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>可以接受第三个可选模板参数，用于对键进行排序的函数</span></span>
</div></pre>
</li>
<li>使用：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>实际的值类型将键类型与值类型结合到一起，STL使用模板类pair</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>T</span></span><span>,&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>U</span></span></span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>将其存储到一个对象中pair</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;keytype,&nbsp;datetype</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>对于codes，对象，值类型为pair</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>pair</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>item</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>213</span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Los&nbsp;Angeles</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>codes.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>insert</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>item</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>codes.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>insert</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>pair</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>214</span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>New&nbsp;York</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>codes.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>insert</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>multimap</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>::value_type</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>215</span></span><span>,&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Washington</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>对于pair对象，使用first&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;second两个成员来访问其两个部分：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;item.first&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;item.second&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
<li>成员函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>count</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;接受键作为参数，返回具有该键的元素数目</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>lower_bound</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>upper_bound</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;接受键作为参数，原理与set类的类似</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>equal_range</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;用键作为参数，返回两个迭代器，指示该键的区间，返回值封装在一个pair对象中</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pair</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>multimap</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>::iterator,&nbsp;multimap</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>::iterator</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;range&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>equal_range</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>718</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mulimap</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;string</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>::iterator&nbsp;it;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>it&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;range.first,&nbsp;it&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;range.second,&nbsp;it</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;it</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>.second&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>或使用auto自动类型推断：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>auto</span></span><span>&nbsp;range&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>equal_range</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>718</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>for</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>auto</span></span><span>&nbsp;it&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;range.first,&nbsp;it&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;range.second,&nbsp;it</span><span class="syntax--keyword syntax--operator syntax--increment syntax--c"><span>++</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;it</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>.second&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
<li>map类数组表示法：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>map类可以用数组表示法，将键用作索引来访问存储的值</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>codes[</span><span class="syntax--constant syntax--numeric syntax--c"><span>216</span></span><span>]&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Hawaii</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>插入216时，先在codes中查找主键为216的项，如果没发现：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;先将一个新的对象插入codes，键是216，值是一个空字符串</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;插入完成后，将字符串赋为</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>Hawaii</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>使用这种赋值方法比较直观，但如果元素是类对象，则开销比较大</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>用于获取值：string&nbsp;city&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;codes[</span><span class="syntax--constant syntax--numeric syntax--c"><span>215</span></span><span>];</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>只有该键存在时才返回正确的值，否则会自动插入一个实例，值为初始化值</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>可以通过</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>count</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>方法来发现一个键是否存在：</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>codes.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>find</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>215</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;codes.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--cpp"><span>&quot;</span></span><span>215&nbsp;exist!</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--cpp"><span>&quot;</span></span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">函数对象</span></h1>
<ul>
<li>可以以函数方式与()结合使用的任意对象，包括函数名 / 函数指针 / 重载了()运算符的类</li>
<li>如对于STL方法for_each()原型:<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>ImputIterator</span></span><span>,&nbsp;</span><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>Function</span></span></span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Function&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>for_each</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>InputIterator&nbsp;first,&nbsp;InputIterator&nbsp;second,&nbsp;Function&nbsp;f</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>第三个参数接受函数参数，用于处理容器数据，但无法提前指导数据类型，因此不能使用函数指针</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>此处定义的Function可以是一个一元函数对象</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>对于</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>elem</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;newbooks;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>for_each</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>newbooks.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;newbooks.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;show</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Function表示的类型是&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>void</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;elem&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>Function也可以表示重载了</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>运算符的类</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">函数符概念</span></h2>
<ul>
<li>
<p>生成器 generator：不用参数可调用的函数符</p>
</li>
<li>
<p>一元函数 unary function：一个参数可调用的函数符</p>
</li>
<li>
<p>二元函数 binary function：两个个参数可调用的函数符</p>
</li>
<li>
<p>谓词 predicate：返回bool值的一元函数</p>
</li>
<li>
<p>二元谓词 binary predicate：返回bool值的二元函数</p>
</li>
<li>
<p>如STL方法sort()接受二元谓词参数</p>
</li>
<li>
<p>list成员方法remove_if()接受谓词参数</p>
</li>
</ul>
<h2><span style="color:#ff8000;">二元函数转换为一元函数对象</span></h2>
<ul>
<li>假设有一个接受两个参数的模板函数：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>tooBig</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;val,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;lim</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;val&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;lim;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
则无法将其用于接受谓词参数的函数，如list成员方法remove_if()</li>
<li>可以使用类将其转换为单个参数的函数对象(函数适配器)：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--type syntax--cpp"><span>class</span></span><span>&nbsp;</span><span class="syntax--entity syntax--name syntax--type syntax--cpp"><span>TooBig</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--cpp"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>private:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T&nbsp;limit;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--storage syntax--modifier syntax--cpp"><span>public:</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--meta syntax--function syntax--constructor syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--cpp"><span>TooBig</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;t</span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--constructor syntax--initializer-list syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--c"><span>:</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>limit</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>t</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--cpp"><span>operator</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--modifier syntax--c"><span>const</span></span><span>&nbsp;T&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>&nbsp;val</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;val&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;limit;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--class-struct-block syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--cpp"><span>}</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>TooBig</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>tb100</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>100</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;原先函数的第二个参数用于构建函数对象</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--control syntax--c"><span>if</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>tb100</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;等同于&nbsp;tooBig&lt;int&gt;(x,&nbsp;100)</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>list</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;scores;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>...</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>scores.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>remove_if</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>tb100</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>scores.</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>remove_if</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>TooBig</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>200</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">STL预定义的函数符</span></h2>
<ul>
<li>头文件function定义了多个模板类函数对象</li>
<li>对于所有内置的算数运算符 / 关系运算符 / 逻辑运算符，STL都提供了等价的函数符<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--operator syntax--c"><span>+</span></span><span>&nbsp;plus&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span>&nbsp;minus&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;multiplies&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;divides&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>%</span></span><span>&nbsp;modulus&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span>&nbsp;negate</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;equal_to&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>!=</span></span><span>&nbsp;not_equal_to&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;greater&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span>&nbsp;less&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;=</span></span><span>&nbsp;greater_equal&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;=</span></span><span>&nbsp;less_equal</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>&amp;&amp;</span></span><span>&nbsp;local_and&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>||</span></span><span>&nbsp;local_or&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--c"><span>!</span></span><span>&nbsp;local_not</span></span>
</div></pre>
</li>
<li>plus&lt;&gt;使用：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--preprocessor syntax--include syntax--c"><span class="syntax--keyword syntax--control syntax--directive syntax--include syntax--c"><span class="syntax--punctuation syntax--definition syntax--directive syntax--c"><span>#</span></span><span>include</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--other syntax--lt-gt syntax--include syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&lt;</span></span><span>function</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&gt;</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>plus</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;addd;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;y&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>addd</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>2.2</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3.3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>transform</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>gr8.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;gr8.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;m8.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;out,&nbsp;plus</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;STL非成员函数</span></span></span>
</div></pre>
</li>
<li>自适应函数符：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>自适应生成器&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;自适应一元函数&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;自适应二元函数&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;自适应谓词&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;自适应二元谓词</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">函数适配器 binder1st / binder2nd类</span></h2>
<ul>
<li>binder1st类：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>将二元函数的第二个参数与特定值相关联，转换为一元函数</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>对于二元函数</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x,&nbsp;y</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>binder1st</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>f2,&nbsp;val</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;f1;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>使用</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f1</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>时，等价于</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f2</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x,&nbsp;val</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>STL提供了</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>bind1st</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>函数简化类binder1st类的使用，对于二元函数multiplies：</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>bind1st</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>multiplies</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2.5</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;将是一个与2.5作乘法运算的函数</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>transform</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>gr8.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;gr8.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;out,&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>bind1st</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>multiplies</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>2.5</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
<li>binder2nd类：<pre class="editor-colors lang-text"><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>与binder1st类似，只是将参数赋给第二个参数</span></span></span>
</div><div class="line"><span class="syntax--text syntax--plain"><span class="syntax--meta syntax--paragraph syntax--text"><span>bind2nd()函数用于简化binder2nd类使用</span></span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">lambda (匿名函数)</span></h1>
<ul>
<li>使函数定义位于使用的地方附近</li>
<li>lambda可以访问作用域内的任何动态变量</li>
</ul>
<h2><span style="color:#ff8000;">lambda作为函数参数</span></h2>
<ul>
<li>对于接受函数指针或函数符的函数，可以使用匿名函数定义lambda作为其参数<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>[]&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>%</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;--&gt;&nbsp;bool&nbsp;f3(int&nbsp;x)&nbsp;{&nbsp;return&nbsp;x&nbsp;%&nbsp;3&nbsp;==&nbsp;0;&nbsp;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>使用&nbsp;[]&nbsp;代替函数名</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>返回类型相当于使用decltype根据返回值自动推断得到，这里为&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>，如果没有返回语句，则为void</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>仅当lambda语句仅由一条返回语句组成时,自动类型推断才管用，否则应使用返回类型后置语法：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>-</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;y&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3.14</span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;y;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div></pre>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>std::vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>number</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::srand</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::time</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::generate</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>number.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;number.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;std::rand</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;STL&nbsp;function,&nbsp;generate&nbsp;an&nbsp;array&nbsp;using&nbsp;the&nbsp;third&nbsp;function&nbsp;parametre</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;count&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>count_if</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>number.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;number.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>%</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;STL&nbsp;function,&nbsp;return&nbsp;the&nbsp;elements&nbsp;number&nbsp;which&nbsp;the&nbsp;third&nbsp;function&nbsp;parameter&nbsp;returns&nbsp;true</span></span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">指定名称的lambda函数</span></h2>
<ul>
<li>lambda函数也可以指定名称：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>auto</span></span><span>&nbsp;mod3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;[]&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>%</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;mod3&nbsp;is&nbsp;a&nbsp;name&nbsp;of&nbsp;a&nbsp;lambda&nbsp;function</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>可以像常规函数一样使用指定名称的lambda函数：</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>bool</span></span><span>&nbsp;result&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>mod3</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">lambda捕获作用域内的变量</span></h2>
<ul>
<li>将变量名放在[]内以捕获要使用的变量：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>[z]&nbsp;按值访问变量z</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>[</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>z]&nbsp;按引用访问变量z</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>[</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>]&nbsp;按值访问所有动态变量</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>[</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>]&nbsp;按引用访问所有动态变量</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>[x,&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>z]&nbsp;按值访问x，按引用访问z</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>[</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>,&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>z]&nbsp;按引用访问z，按值访问所有其他变量</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>[</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>,&nbsp;x]&nbsp;按值访问x，按引用访问所有其他变量</span></span>
</div></pre>
<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>std::vector</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>vi</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;count13&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::for_each</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>vi.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;vi.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>count13]&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;count13&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--compound syntax--c"><span>+=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>%</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>13</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;count&nbsp;elements&nbsp;which&nbsp;could&nbsp;be&nbsp;divided&nbsp;excatly&nbsp;by&nbsp;13</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;count&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span>;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>std::for_each</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>vi.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>begin</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,&nbsp;vi.</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>end</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>,</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--function syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[</span><span class="syntax--keyword syntax--operator syntax--c"><span>&amp;</span></span><span>]&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>&nbsp;x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;count3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--compound syntax--c"><span>+=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>%</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>3</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;&nbsp;count13&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--compound syntax--c"><span>+=</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>x&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>%</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>13</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>==</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--c"><span>0</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;count&nbsp;elements&nbsp;which&nbsp;could&nbsp;be&nbsp;divided&nbsp;excatly&nbsp;by&nbsp;3&nbsp;&amp;&nbsp;13</span></span></span>
</div></pre>
<br>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">包装器 wrapper</span></h1>
<ul>
<li>也叫适配器 adapter，用于给给其他编程接口提供更一致或更合适的接口，如 bind1st / bind2nd<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>模板bind，可替代bind1st&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;bind2nd</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>模板mem_fn，可以将成员函数作为常规函数进行传递</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>模板reference_wrapper，可以创建行为像引用，但可以被复制的对象</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>模板function，可以以统一的方式处理多种类似于函数的形式</span></span>
</div></pre>
</li>
</ul>
<h2><span style="color:#ff8000;">包装器function</span></h2>
<ul>
<li>将常规函数 / 重载()运算符的对象 / lambda函数统一成同样的接口<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>std::function&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>int</span></span><span>,&nbsp;</span><span class="syntax--storage syntax--type syntax--c"><span>char</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;fd;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;创建一个名为fd的function对象，接受两个参数，返都double类型</span></span></span>
</div></pre>
</li>
<li>如对于函数模板：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T,&nbsp;</span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;F</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>T&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>use_f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>T&nbsp;v,&nbsp;F&nbsp;f</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>v</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>调用常规函数&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;重载</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>运算符的对象&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>/</span></span><span>&nbsp;lambda函数类型的F，将创建不同的模板实例</span></span>
</div></pre>
</li>
<li>可以创建不同的function对象：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>function&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;ef1&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;dub;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;常规函数指针</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>function&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;ef2&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Fq</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10.0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;函数对象</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>function&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;ef3&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--c"><span>=</span></span><span>&nbsp;[]&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;u</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;u&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;u;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--double-slash syntax--cpp"><span class="syntax--punctuation syntax--definition syntax--comment syntax--cpp"><span>//</span></span><span>&nbsp;lambda函数</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>use_f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>12.1</span></span><span>,&nbsp;ef1</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>use_f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>12.1</span></span><span>,&nbsp;ef2</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>use_f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>12.1</span></span><span>,&nbsp;ef3</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>将只创建一个use_f实例</span></span>
</div></pre>
</li>
<li>也可以使用typedef + 临时对象：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--c"><span>typedef</span></span><span>&nbsp;function&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;fdd;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>use_f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>12.1</span></span><span>,&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fdd</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>dub</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>use_f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>12.1</span></span><span>,&nbsp;</span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>fdd</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Fq</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10.0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span><span>)</span><span>)</span></span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
<li>也可以将use_if()第二个参数声明为function包装器对象类型：<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--preprocessor syntax--include syntax--c"><span class="syntax--keyword syntax--control syntax--directive syntax--include syntax--c"><span class="syntax--punctuation syntax--definition syntax--directive syntax--c"><span>#</span></span><span>include</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--other syntax--lt-gt syntax--include syntax--c"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--c"><span>&lt;</span></span><span>functional</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--c"><span>&gt;</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--storage syntax--type syntax--template syntax--cpp"><span>template&nbsp;</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--modifier syntax--cpp"><span>typename</span></span><span>&nbsp;T</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>T&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>use_if</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>T&nbsp;v,&nbsp;std::function</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--entity syntax--name syntax--function syntax--c"><span>T</span></span><span>&nbsp;</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>T</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span>&nbsp;f</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--separator syntax--dot-access syntax--c"><span>.</span><span>.</span><span>.</span></span><span>&nbsp;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;</span><span class="syntax--meta syntax--function-call syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>f</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span>v</span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span>;</span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;use_f</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>12.1</span></span><span>,&nbsp;dub</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;use_f</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>12.1</span></span><span>,&nbsp;</span><span class="syntax--meta syntax--function syntax--c"><span class="syntax--entity syntax--name syntax--function syntax--c"><span>Fq</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>10.0</span></span><span class="syntax--punctuation syntax--section syntax--arguments syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>;&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div><div class="line"><span class="syntax--source syntax--cpp"><span>cout&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;use_if</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&lt;</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span class="syntax--keyword syntax--operator syntax--comparison syntax--c"><span>&gt;</span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--constant syntax--numeric syntax--c"><span>12.1</span></span><span>,&nbsp;[]&nbsp;</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round syntax--c"><span>(</span></span><span class="syntax--storage syntax--type syntax--c"><span>double</span></span><span>&nbsp;u</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--block syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly syntax--c"><span>{</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--c"><span>return</span></span><span>&nbsp;u&nbsp;</span><span class="syntax--keyword syntax--operator syntax--c"><span>*</span></span><span>&nbsp;u;&nbsp;</span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly syntax--c"><span>}</span></span></span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round syntax--c"><span>)</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--bitwise syntax--shift syntax--c"><span>&lt;&lt;</span></span><span>&nbsp;endl;</span></span>
</div></pre>
</li>
</ul>
<hr>
<h1><span style="color:#ff0000;">c++11新增的其他内容 (并行编程 / 新增的库)</span></h1>
<h2><span style="color:#ff8000;">并行编程</span></h2>
<ul>
<li>关键字thread_local<pre class="editor-colors lang-c++"><div class="line"><span class="syntax--source syntax--cpp"><span>支持线程化的内存模型，将变量声明为静态存储，其持续性与特定线程相关，线程过期时变量也将过期</span></span>
</div></pre>
原子操作(atomic operation)库头文件atomic</li>
<li>线程支持库头文件thread / mutex / condition_variable / future</li>
</ul>
<h2><span style="color:#ff8000;">新增的库</span></h2>
<ul>
<li>random 随机数工具</li>
<li>chrono 提供了处理时间间隔的途径</li>
<li>tuple 广义的pair对象，可存储任意多个类型不同的值</li>
<li>ratio 有理数算数库</li>
<li>regex 正则表达式支持库</li>
</ul></body>
</html>
